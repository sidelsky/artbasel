{"version":3,"sources":["webpack://dzsap_webpack_external/../source/audioplayer/configs/_constants.js","webpack://dzsap_webpack_external/../source/audioplayer/js_common/_dzs_helpers.js","webpack://dzsap_webpack_external/../source/audioplayer/jsinc/_dzsap_helpers.js","webpack://dzsap_webpack_external/../source/audioplayer/jsinc/_dzsap_svgs.js","webpack://dzsap_webpack_external/../source/audioplayer/jsinc/player/_player_keyboard.js","webpack://dzsap_webpack_external/webpack/bootstrap","webpack://dzsap_webpack_external/webpack/runtime/define property getters","webpack://dzsap_webpack_external/webpack/runtime/hasOwnProperty shorthand","webpack://dzsap_webpack_external/../source/audioplayer/js_common/_esjquery.js","webpack://dzsap_webpack_external/../source/audioplayer/dzsap-wave-generator.sourcepack.js"],"names":["ConstantsDzsAp","PLAYLIST_TRANSITION_DURATION","URL_WAVESURFER_HELPER_BACKUP","WAVESURFER_MAX_TIMEOUT","URL_JQUERY","DEBUG_STYLE_PLAY_FUNCTIONS","ERRORED_OUT_CLASS","ERRORED_OUT_MAX_ATTEMPTS","DZSAP_SCRIPT_SELECTOR_MAIN_SETTINGS","DZSAP_SCRIPT_SELECTOR_KEYBOARD","isValid","n","formatTime","arg","s","Math","round","m","h","isFinite","String","can_history_api","window","history","pushState","dzs_clean_string","replace","get_query_arg","purl","key","indexOf","regtest","RegExp","exec","splitterS","aux","split","add_query_arg","value","pair","encodeURIComponent","r","regex_attr","dzsap_is_mobile","is_ios","is_android_good","is_ie","MSInputMethodContext","document","documentMode","navigator","platform","can_canvas","createElement","getContext","is_safari","Object","prototype","toString","call","HTMLElement","is_android","select_all","el","getSelection","createRange","range","selectNodeContents","sel","removeAllRanges","addRange","selection","body","createTextRange","textRange","moveToElementText","select","userAgent","toLowerCase","htmlEncode","jQuery","text","html","dzsap_generate_keyboard_tooltip","keyboard_controls","lab","structureDzsTooltipCommentAfterSubmit","hexToRgb","hex","targetAlpha","result","str","alpha","parseInt","g","b","assignHelperFunctionsToJquery","$","checkIfHasClass","argfind","auxarr","fn","prependOnce","_t","this","children","length","prepend","appendOnce","append","registerTextWidth","textWidth","html_org","nodeName","val","html_calcS","_lastspan","last","css","width","remove","player_checkIfWeShouldShowAComment","selfClass","real_time_curr","real_time_total","timer_curr_perc","audioType","timeCurrent","timeTotal","_commentsHolder","each","hasClass","_t_posx","offset","left","parseFloat","outerWidth","abs","find","removeClass","addClass","sanitizeObjectForChangeMediaArgs","_sourceForChange","changeMediaArgs","_feed_fakePlayer","data","source","attr","pcm","thumb_link","artist","eq","song_name","thumb","utils_sanitizeToColor","colorString","dzsapInitjQueryRegisters","player_radio_isNameUpdatable","radio_update_song_name","targetKey","_metaArtistCon","playerRegisterWindowFunctions","argtime","argcthis","Infinity","action","id_track","postdata","ceil","post","dzsap_ajaxurl","response","dzs_open_social_link","argthis","leftPosition","topPosition","windowFeatures","screen","height","location","href","auxa","cid","cid_gallery","dzsap_currplayer_from_share","parent","index","shareurl","open","dzsap_wp_send_contor_60_secs","argtitle","video_title","video_analytics_id","curr_user","dzsap_curr_user","theajaxurl","dzsap_settings","dzsap_site_url","ajax","type","url","success","error","dzsap_init_multisharer","dzsap_submit_like","argp","e","playerid","currentTarget","ajax_url","htmlaux","dzsap_retract_like","dzsap_singleton_ready_calls","dzsap_singleton_ready_calls_is_called","$mainSettings","JSON","parse","ajaxurl","dzsap__style","after","on","dzsap_currplayer_focused","jQueryAuxBindings","off","$t","preventDefault","stopPropagation","stopImmediatePropagation","_c","get","api_change_media","wishlist_action","dzsap_lasto","settings_php_handler","selectText","selectNode","view_player_playMiscEffects","$conPlayPause","cthis","view_player_globalDetermineSyncPlayersIndex","_sourcePlayer","dzsap_syncList_players","forEach","$syncPlayer","dzsap_syncList_index","player_view_addMetaLoaded","$totalTime","timeModel","refreshTimes","getVisualTotalTime","player_determineActualPlayer","$fakePlayer","_actualPlayer","actualDataTypeOfMedia","htmlEntities","waitForScriptToBeAvailableThenExecute","verifyVar","callbackFn","Promise","resolve","reject","checkInterval","checkIfVarExists","clearInterval","setInterval","setTimeout","then","catch","err","configureAudioPlayerOptionsInitial","o","preload_method","wavesurfer_pcm_length","Number","settings_trigger_resize","isNaN","design_thumbh","skinwave_wave_mode","skinwave_wave_mode_canvas_normalize","skinwave_wave_mode_canvas_waves_number","autoplay","cue","extra_classes_player","design_skin","feedEmbedCode","embed_code","initOptions","skinwave_enableSpectrum","test","scrubbar_type","action_received_time_total","dzsap_send_total_time","action_video_contor_60secs","disable_volume","cueMedia","ajax_view_submitted","starrating_alreadyrated","loop","disable_scrub","disable_timer","design_color_bg","design_wave_color_bg","design_color_highlight","design_wave_color_progress","design_animateplaypause","skinwave_wave_mode_canvas_mode","skinwave_wave_mode_canvas_reflection_size","urlToAjaxHandler","player_reinit_findIfPcmNeedsGenerating","hasInitialPcmData","isPcmRequiredToGenerate","is_inited_from_playlist","scrubbar_type_wave__has_reveal_animation","playerFunctions","functionType","skinwave_comments_playerid","the_player_id","uniqueId","identifier_pcm","skinwave_comments_enable","player_delete","_con","prev","player_viewApplySkinWaveModes","skinwave_mode","sanitizeToHexColor","hexcolor","player_identifySource","data_source","player_identifyTypes","player_adjustIdentifiers","_feed_obj","$feed_fakeButton","player_getPlayFromTime","playFrom","playfrom","sanitizeToIntFromPointTime","sampleTimeStart","arr","player_initSpectrum","dzsap_audio_ctx","AudioContext","spectrum_audioContext","webkitAudioContext","spectrum_analyser","createAnalyser","smoothingTimeConstant","fftSize","$mediaNode_","crossOrigin","spectrum_mediaElementSource","createMediaElementSource","connect","createGain","spectrum_gainNode","destination","gain","frameCount","sampleRate","spectrum_audioContext_buffer","createBuffer","player_initSpectrumOnUserAction","handleMouseDown","addEventListener","once","player_icecastOrShoutcastRefresh","audioTypeSelfHosted_streamType","crossDomain","documentElement","innerHTML","new_title","new_artist","regexMatches","setup_media","radio_isGoingToUpdateSongName","radio_isGoingToUpdateArtistName","player_determineStickToBottomContainer","$stickToBottomContainer","isStickyPlayer","player_stickToBottomContainerDetermineClasses","player_service_getSourceProtection","player_isGoingToSetupMediaNow","player_determineHtmlAreas","extraHtmlBottom","extraHtmlControlsLeft","extraHtmlControlsRight","settings_extrahtml","extraHtmlAreas","controlsLeft","controlsRight","bottom","player_stopOtherPlayers","dzsap_list","i","api_pause_media","api_destroy_for_rebuffer","player_syncPlayers_gotoItem","targetIncrement","syncPlayers_autoplayEnabled","keySyncPlayer","$playerInSyncList","targetIndex","$currentSyncPlayer_","api_play_media","player_syncPlayers_buildList","syncPlayers_isDzsapListBuilt","_t23","push","clearTimeout","syncPlayers_buildTimeout","player_detect_skinwave_mode","player_constructArtistAndSongCon","margs","structHtml","call_from","_conControls","_audioplayerInner","wrap","_apControls","_apControlsRight","_apControlsLeft","_conPlayPauseCon","before","convertPluginOptionsToFinalOptions","elThis","defaultOptions","argOptions","searchedAttr","$es","finalOptions","tempOptions","isSetFromJson","undefined","$elThis","isArgOptionsDefinedViaJs","Boolean","keys","eval","assign","generateFakeArrayForPcm","it1","random","scrubbar_modeWave_clearObsoleteCanvas","_scrubbar","scrubbar_modeWave_setupCanvas","pargs","prepare_for_transition_in","struct_scrubBg_str","struct_scrubProg_str","_scrubbarbg_canvas","_scrubbarprog_canvas","hide","svg_share_icon","handle_keypresses","dzsap_isTextFieldFocused","isKeyPressed","checkKeyCode","ctrlKey","keyCode","extend","$keyboardControlsInfo","dzsap_keyboard_controls","step_back_amount","dzsap_generate_keyboard_controls","pause_play","dzsap_mouseover","step_back","api_step_back","step_forward","api_step_forward","sync_players_goto_next","api_sync_players_goto_next","sync_players_goto_prev","api_sync_players_goto_prev","dzsap_keyboardSetup","$audioGallery","api_filter","__webpack_module_cache__","__webpack_require__","moduleId","exports","module","__webpack_modules__","d","definition","defineProperty","enumerable","obj","prop","hasOwnProperty","esJquery","selector","$el","querySelector","$els","querySelectorAll","isNodeList","_el","style","display","cln","cloneNode","parentNode","appendChild","eventType","event","Event","dispatchEvent","el3","classList","add","_tempKid","insertBefore","firstChild","outerHTML","callback","arguments","textContent","evt","handler","t","target","matches","contains","attrArgs","getAttribute","setAttribute","childNodes","field","form","query","elements","name","j","options","selected","checked","substr","nodes","stringRepr","nodeType","es_document_ready","resolutionFunc","rejectionFunc","readyState","resolution","es_ajax","xhr","XMLHttpRequest","form_data","FormData","send","status","addition","WaveGenerator","$waveGenerator_","dataSource","$waveGenerator","$wavedataField","$status","init","selectorWaveData","promise_waveGenerate","pcm_data","dzsap_wave_generate_auto","dzsap_admin_waveforms_submitPcmData","console","log","dzsap_generating_pcm","async","$container_","sourceMp3","called_from","preferBackendPeaks","resolvePcm","rejectPcm","asyncRenderPcm","wavesurferConId","linGrad","createLinearGradient","addColorStop","wavesurfer","WaveSurfer","create","container","normalize","pixelRatio","waveColor","progressColor","cursorColor","barWidth","percents","load","pcmDataArr","pcmDataString","exportPCM","isPcmDataArrValid","backend","getPeaks","toFixed","stringify","resolve_type","err2","error_type","error_message","wavesurfer_renderPcm","responsePcm","default_pcm","i3"],"mappings":"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","file":"dzsap-wave-generator.js","sourcesContent":["export const ConstantsDzsAp = {\n  PLAYLIST_TRANSITION_DURATION: 300,\n  'DEBUG_STYLE_1' : 'background-color: #aaa022; color: #222222;',\n  'DEBUG_STYLE_2' : 'background-color: #7c3b8e; color: #ffffff;',\n  'DEBUG_STYLE_3' : 'background-color: #3a696b; color: #eeeeee;',\n  'DEBUG_STYLE_ERROR' : 'background-color: #3a696b; color: #eeeeee;',\n  URL_WAVESURFER_HELPER_BACKUP : 'https://zoomthe.me/assets/dzsap-wave-generate.js',\n  WAVESURFER_MAX_TIMEOUT : 20000,\n  URL_JQUERY : 'https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js',\n  DEBUG_STYLE_PLAY_FUNCTIONS: 'background-color: #daffda; color: #222222;',\n  ERRORED_OUT_CLASS: 'errored-out',\n  ERRORED_OUT_MAX_ATTEMPTS: 5\n}\n\nexport const DZSAP_SCRIPT_SELECTOR_MAIN_SETTINGS = '#dzsap-main-settings';\nexport const DZSAP_SCRIPT_SELECTOR_KEYBOARD = '#dzsap-keyboard-controls';\n","export const decode_json = function (arg) {\n  var fout = {};\n\n  if (arg) {\n\n    try {\n\n      fout = JSON.parse(arg);\n    } catch (err) {\n\n      return null;\n    }\n  }\n\n  return fout;\n}\n\n\nexport function simpleStringify (object){\n  if (object && typeof object === 'object') {\n    object = copyWithoutCircularReferences([object], object);\n  }\n  return JSON.stringify(object);\n\n  function copyWithoutCircularReferences(references, object) {\n    var cleanObject = {};\n    Object.keys(object).forEach(function(key) {\n      var value = object[key];\n      if (value && typeof value === 'object') {\n        if (references.indexOf(value) < 0) {\n          references.push(value);\n          cleanObject[key] = copyWithoutCircularReferences(references, value);\n          references.pop();\n        } else {\n          cleanObject[key] = '###_Circular_###';\n        }\n      } else if (typeof value !== 'function') {\n        cleanObject[key] = value;\n      }\n    });\n    return cleanObject;\n  }\n}\n\nexport const loadScriptIfItDoesNotExist = (scriptSrc, checkForVar) => {\n  return new Promise((resolve, reject) => {\n    if (checkForVar) {\n      resolve('loadfromvar');\n      return;\n    }\n\n    var script = document.createElement('script');\n    script.onload = function () {\n      resolve('loadfromload');\n    };\n    script.onerror = function () {\n      reject();\n    };\n    script.src = scriptSrc;\n\n    document.head.appendChild(script);\n  })\n}\n\n\nexport const getBaseUrl = (baseUrlVar, scriptName) => {\n  if (window[baseUrlVar]) {\n    return window[baseUrlVar];\n  }\n\n  let scripts = document.getElementsByTagName(\"script\");\n  for (var scriptKey in scripts) {\n    if (scripts[scriptKey] && scripts[scriptKey].src && String(scripts[scriptKey].src).indexOf(scriptName) > -1) {\n      break;\n    }\n  }\n  var baseUrl_arr = String(scripts[scriptKey].src).split('/');\n  baseUrl_arr.splice(-1, 1);\n  const result = string_addTrailingSlash(baseUrl_arr.join('/'));\n  window[baseUrlVar] = result+'/';\n  return result;\n}\n\nfunction string_addTrailingSlash(url){\n  var lastChar = url.substr(-1); // Selects the last character\n  if (lastChar != '/') {         // If the last character is not a slash\n    url = url + '/';            // Append a slash to it.\n  }\n  return url;\n}\nexport const sanitizeToCssPx = (arg) => {\n\n  if (String(arg).indexOf('%') > -1 || String(arg).indexOf('em') > -1 || String(arg).indexOf('px') > -1 || String(arg).indexOf('auto') > -1) {\n    return arg;\n  }\n  return arg + 'px';\n}\n\n\nexport const setupTooltip = (args) => {\n\n  var mainArgs = Object.assign({\n    tooltipInnerHTML: '',\n    tooltipIndicatorText: '',\n    tooltipConClass: '',\n  }, args)\n\n  return `<div class=\"dzstooltip-con ${mainArgs.tooltipConClass}\"><span class=\"dzstooltip main-tooltip   talign-end arrow-bottom style-rounded color-dark-light  dims-set transition-slidedown \" style=\"width: 280px;\"><span class=\"dzstooltip--inner\">${mainArgs.tooltipInnerHTML}</span> </span></span><span class=\"tooltip-indicator\">${mainArgs.tooltipIndicatorText}</span></div>`;\n}\n\n\nexport const isInt = function (n) {\n  return typeof n == 'number' && Math.round(n) % 1 == 0;\n}\n\nexport const isValid = function (n) {\n  return typeof n != 'undefined' && n != '';\n}\n\n\nexport function getRelativeX (mouseX, $el_) {\n  if (jQuery) {\n    return mouseX - jQuery($el_).offset().left;\n  }\n}\n","import {isValid} from \"../js_common/_dzs_helpers\";\nimport {svg_share_icon} from \"./_dzsap_svgs\";\nimport {dzsap_keyboardSetup} from \"./player/_player_keyboard\";\nimport {DZSAP_SCRIPT_SELECTOR_MAIN_SETTINGS} from \"../configs/_constants\";\n\n\nexport function formatTime(arg) {\n\n  var s = Math.round(arg);\n  var m = 0;\n  var h = 0;\n  if (s > 0) {\n    while (s > 3599 && s < 3000000 && isFinite(s)) {\n      h++;\n      s -= 3600;\n    }\n    while (s > 59 && s < 3000000 && isFinite(s)) {\n      m++;\n      s -= 60;\n    }\n    if (h) {\n\n      return String((h < 10 ? \"0\" : \"\") + h + \":\" + String((m < 10 ? \"0\" : \"\") + m + \":\" + (s < 10 ? \"0\" : \"\") + s));\n    }\n    return String((m < 10 ? \"0\" : \"\") + m + \":\" + (s < 10 ? \"0\" : \"\") + s);\n  } else {\n    return \"00:00\";\n  }\n}\n\nexport function can_history_api() {\n  return !!(window.history && history.pushState);\n}\n\nexport function dzs_clean_string(arg) {\n\n  if (arg) {\n\n    arg = arg.replace(/[^A-Za-z0-9\\-]/g, '');\n\n    arg = arg.replace(/\\./g, '');\n    return arg;\n  }\n\n  return '';\n\n\n}\n\n\nexport function get_query_arg(purl, key) {\n  if (purl) {\n\n    if (String(purl).indexOf(key + '=') > -1) {\n\n      var regexS = \"[?&]\" + key + \"=.+\";\n      var regex = new RegExp(regexS);\n      var regtest = regex.exec(purl);\n\n\n      if (regtest != null) {\n        var splitterS = regtest[0];\n        if (splitterS.indexOf('&') > -1) {\n          var aux = splitterS.split('&');\n          splitterS = aux[1];\n        }\n\n        var splitter = splitterS.split('=');\n\n\n        return splitter[1];\n\n      }\n\n    }\n\n  } else {\n  }\n}\n\nexport function add_query_arg(purl, key, value) {\n\n  key = encodeURIComponent(key);\n  value = encodeURIComponent(value);\n\n  if (!(purl)) {\n    purl = '';\n  }\n  var s = purl;\n  var pair = key + \"=\" + value;\n\n  var r = new RegExp(\"(&|\\\\?)\" + key + \"=[^\\&]*\");\n\n  s = s.replace(r, \"$1\" + pair);\n\n  if (s.indexOf(key + '=') > -1) {\n\n\n  } else {\n    if (s.indexOf('?') > -1) {\n      s += '&' + pair;\n    } else {\n      s += '?' + pair;\n    }\n  }\n\n\n  if (value === 'NaN') {\n    var regex_attr = new RegExp('[\\?|\\&]' + key + '=' + value);\n    s = s.replace(regex_attr, '');\n\n\n    if (s.indexOf('?') === -1 && s.indexOf('&') > -1) {\n      s = s.replace('&', '?');\n    }\n  }\n\n  return s;\n}\n\n\nexport function dzsap_is_mobile() {\n\n\n  return is_ios() || is_android_good();\n}\n\nexport function is_ie() {\n  return !!window.MSInputMethodContext && !!document.documentMode;\n}\n\nexport function is_ios() {\n\n  return ((navigator.platform.indexOf(\"iPhone\") !== -1) || (navigator.platform.indexOf(\"iPod\") !== -1) || (navigator.platform.indexOf(\"iPad\") !== -1));\n}\n\n\nexport function can_canvas() {\n\n  var oCanvas = document.createElement(\"canvas\");\n  if (oCanvas.getContext(\"2d\")) {\n    return true;\n  }\n  return false;\n}\n\nexport function is_safari() {\n  return Object.prototype.toString.call(window.HTMLElement).indexOf('Constructor') > 0;\n}\n\n\nexport function is_android() {\n  return is_android_good();\n}\n\nexport function select_all(el) {\n  if (typeof window.getSelection !== \"undefined\" && typeof document.createRange !== \"undefined\") {\n    var range = document.createRange();\n    range.selectNodeContents(el);\n    var sel = window.getSelection();\n    sel.removeAllRanges();\n    sel.addRange(range);\n  } else if (typeof document.selection !== \"undefined\" && typeof document.body.createTextRange !== \"undefined\") {\n    var textRange = document.body.createTextRange();\n    textRange.moveToElementText(el);\n    textRange.select();\n  }\n}\n\nexport function is_android_good() {\n\n\n  var ua = navigator.userAgent.toLowerCase();\n\n\n  return (ua.indexOf(\"android\") > -1);\n}\n\nexport function htmlEncode(arg) {\n  return jQuery('<div/>').text(arg).html();\n}\n\nexport function dzsap_generate_keyboard_tooltip(keyboard_controls, lab) {\n\n\n  var structureDzsTooltipCommentAfterSubmit = '<span class=\"dzstooltip color-dark-light talign-start transition-slidein arrow-bottom style-default\" style=\"width: auto;  white-space:nowrap;\"><span class=\"dzstooltip--inner\">' + 'Shortcut' + ': ' + keyboard_controls[lab] + '</span></span>';\n\n  structureDzsTooltipCommentAfterSubmit = structureDzsTooltipCommentAfterSubmit.replace('32', 'space');\n  structureDzsTooltipCommentAfterSubmit = structureDzsTooltipCommentAfterSubmit.replace('27', 'escape');\n\n  return structureDzsTooltipCommentAfterSubmit;\n\n\n}\n\n\n/**\n *\n * @param hex\n * @param {number|null} targetAlpha 0-1\n * @returns {string}\n */\nexport function hexToRgb(hex, targetAlpha = null) {\n  var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n  var str = '';\n  if (result) {\n    result = {\n      r: parseInt(result[1], 16),\n      g: parseInt(result[2], 16),\n      b: parseInt(result[3], 16)\n    };\n\n\n    var alpha = 1;\n\n    if (targetAlpha !== null) {\n      alpha = targetAlpha;\n    }\n\n\n    str = 'rgba(' + result.r + ',' + result.g + ',' + result.b + ',' + alpha + ')';\n  }\n\n\n  return str;\n\n\n}\n\nexport function assignHelperFunctionsToJquery($) {\n\n  /**\n   *\n   * @param {string} argfind\n   * @param {string} arg\n   * @returns {string}\n   */\n  const checkIfHasClass = (argfind, arg) => {\n\n    if (!argfind) {\n      var regex = new RegExp('class=\"(.*?)\"');\n      var auxarr = regex.exec(arg);\n\n\n      if (auxarr && auxarr[1]) {\n        argfind = '.' + auxarr[1];\n      }\n    }\n\n    return argfind;\n  }\n  $.fn.prependOnce = function (arg, argfind) {\n    var _t = $(this)\n\n\n    argfind = checkIfHasClass(argfind, arg);\n\n\n    if (_t.children(argfind).length < 1) {\n      _t.prepend(arg);\n      return true;\n    }\n    return false;\n  };\n  $.fn.appendOnce = function (arg, argfind) {\n    var _t = $(this)\n\n    argfind = checkIfHasClass(argfind, arg);\n\n    if (_t.children(argfind).length < 1) {\n      _t.append(arg);\n      return true;\n    }\n    return false;\n  };\n};\n\n\nexport function registerTextWidth($) {\n\n  $.fn.textWidth = function () {\n    var _t = jQuery(this);\n    var html_org = _t.html();\n    if (_t[0].nodeName === 'INPUT') {\n      html_org = _t.val();\n    }\n    var html_calcS = '<span class=\"forcalc\">' + html_org + '</span>';\n    jQuery('body').append(html_calcS);\n    var _lastspan = jQuery('span.forcalc').last();\n\n    _lastspan.css({\n      'font-size': _t.css('font-size'),\n      'font-family': _t.css('font-family')\n    })\n    var width = _lastspan.width();\n\n    _lastspan.remove();\n    return width;\n  };\n}\n\nexport function player_checkIfWeShouldShowAComment(selfClass, real_time_curr, real_time_total) {\n\n  var $ = jQuery;\n  var timer_curr_perc = Math.round((real_time_curr / real_time_total) * 100) / 100;\n  if (selfClass.audioType === 'fake') {\n    timer_curr_perc = Math.round((selfClass.timeCurrent / selfClass.timeTotal) * 100) / 100;\n  }\n  if (selfClass._commentsHolder) {\n    selfClass._commentsHolder.children().each(function () {\n      var _t = $(this);\n      if (_t.hasClass('dzstooltip-con')) {\n        var _t_posx = _t.offset().left - selfClass._commentsHolder.offset().left;\n\n\n        var aux = Math.round((parseFloat(_t_posx) / selfClass._commentsHolder.outerWidth()) * 100) / 100;\n\n\n        if (aux) {\n\n          if (Math.abs(aux - timer_curr_perc) < 0.02) {\n            selfClass._commentsHolder.find('.dzstooltip').removeClass('active');\n            _t.find('.dzstooltip').addClass('active');\n          } else {\n            _t.find('.dzstooltip').removeClass('active');\n          }\n        }\n      }\n    })\n  }\n}\n\n\nexport function sanitizeObjectForChangeMediaArgs(_sourceForChange) {\n\n  var changeMediaArgs = {};\n  var _feed_fakePlayer = _sourceForChange;\n\n  var lab = '';\n\n  if (_sourceForChange.data('original-settings')) {\n    return _sourceForChange.data('original-settings');\n  }\n\n\n  changeMediaArgs.source = null;\n  if (_feed_fakePlayer.attr('data-source')) {\n    changeMediaArgs.source = _feed_fakePlayer.attr('data-source')\n  } else {\n\n    if (_feed_fakePlayer.attr('href')) {\n      changeMediaArgs.source = _feed_fakePlayer.attr('href');\n    }\n  }\n\n  if (_feed_fakePlayer.attr('data-pcm')) {\n    changeMediaArgs.pcm = _feed_fakePlayer.attr('data-pcm');\n  }\n\n\n  lab = 'thumb';\n  if (_feed_fakePlayer.attr('data-' + lab)) {\n    changeMediaArgs[lab] = _sourceForChange.attr('data-' + lab);\n  }\n\n  lab = 'playerid';\n  if (_feed_fakePlayer.attr('data-' + lab)) {\n    changeMediaArgs[lab] = _sourceForChange.attr('data-' + lab);\n  }\n  lab = 'type';\n  if (_feed_fakePlayer.attr('data-' + lab)) {\n    changeMediaArgs[lab] = _sourceForChange.attr('data-' + lab);\n  }\n\n\n  if (_feed_fakePlayer.attr('data-thumb_link')) {\n    changeMediaArgs.thumb_link = _sourceForChange.attr('data-thumb_link');\n  }\n\n\n  if (_sourceForChange.find('.meta-artist').length > 0 || _sourceForChange.find('.meta-artist-con').length > 0) {\n\n    changeMediaArgs.artist = _sourceForChange.find('.the-artist').eq(0).html();\n    changeMediaArgs.song_name = _sourceForChange.find('.the-name').eq(0).html();\n  }\n\n\n  if (_sourceForChange.attr('data-thumb_for_parent')) {\n    changeMediaArgs.thumb = _sourceForChange.attr('data-thumb_for_parent');\n  }\n\n\n  if (_sourceForChange.find('.feed-song-name').length > 0 || _sourceForChange.find('.feed-artist-name').length > 0) {\n\n    changeMediaArgs.artist = _sourceForChange.find('.feed-artist-name').eq(0).html();\n    changeMediaArgs.song_name = _sourceForChange.find('.feed-song-name').eq(0).html();\n  }\n\n\n  return changeMediaArgs;\n}\n\n\nexport function utils_sanitizeToColor(colorString) {\n  if (colorString.indexOf('#') === -1 && colorString.indexOf('rgb') === -1 && colorString.indexOf('hsl') === -1) {\n    return '#' + colorString;\n  }\n  return colorString;\n}\n\nexport function dzsapInitjQueryRegisters() {\n}\n\nexport function player_radio_isNameUpdatable(selfClass, radio_update_song_name, targetKey) {\n\n  if (selfClass._metaArtistCon.find(targetKey).length && selfClass._metaArtistCon.find(targetKey).eq(0).text().length > 0) {\n\n    if (selfClass._metaArtistCon.find(targetKey).eq(0).html().indexOf('{{update}}') > -1) {\n      return true;\n    }\n  }\n\n\n  return false;\n}\n\nexport function playerRegisterWindowFunctions() {\n\n\n  window['dzsap_functions'] = {};\n  window['dzsap_functions']['send_total_time'] = function (argtime, argcthis) {\n\n\n    if (argtime && argtime !== Infinity) {\n      var data = {\n        action: 'dzsap_send_total_time_for_track'\n        , id_track: argcthis.attr('data-playerid')\n        , postdata: Math.ceil(argtime)\n      };\n      jQuery.post(window.dzsap_ajaxurl, data, function (response) {\n      });\n    }\n\n  }\n\n\n  window.dzs_open_social_link = function (arg, argthis) {\n    var leftPosition, topPosition;\n    var w = 500, h = 500;\n\n    leftPosition = (window.screen.width / 2) - ((w / 2) + 10);\n\n    topPosition = (window.screen.height / 2) - ((h / 2) + 50);\n    var windowFeatures = \"status=no,height=\" + h + \",width=\" + w + \",resizable=yes,left=\" + leftPosition + \",top=\" + topPosition + \",screenX=\" + leftPosition + \",screenY=\" + topPosition + \",toolbar=no,menubar=no,scrollbars=no,location=no,directories=no\";\n\n\n    arg = arg.replace('{{replacewithcurrurl}}', encodeURIComponent(window.location.href));\n\n    if (argthis && argthis.attr) {\n      arg = arg.replace(/{{replacewithdataurl}}/g, argthis.attr('data-url'));\n    }\n\n    var aux = window.location.href;\n\n\n    var auxa = aux.split('?');\n\n    var cid = '';\n    var cid_gallery = '';\n\n\n    if (argthis) {\n\n    } else {\n      if (window.dzsap_currplayer_from_share) {\n\n        argthis = window.dzsap_currplayer_from_share;\n      }\n    }\n\n\n    if (argthis) {\n\n      var $ = jQuery;\n\n      if ($(argthis).hasClass('audioplayer')) {\n        cid = $(argthis).parent().children().index(argthis);\n        cid_gallery = $(argthis).parent().parent().parent().attr('id');\n      } else {\n        if (jQuery(argthis).parent().parent().attr('data-menu-index')) {\n\n          cid = jQuery(argthis).parent().parent().attr('data-menu-index');\n        }\n        if (jQuery(argthis).parent().parent().attr('data-gallery-id')) {\n\n          cid_gallery = jQuery(argthis).parent().parent().attr('data-gallery-id');\n        }\n      }\n\n    }\n\n\n    var shareurl = encodeURIComponent(auxa[0] + '?fromsharer=on&audiogallery_startitem_' + cid_gallery + '=' + cid + '');\n    arg = arg.replace('{{shareurl}}', shareurl);\n\n\n    window.open(arg, \"sharer\", windowFeatures);\n  }\n\n\n  window.dzsap_wp_send_contor_60_secs = function (argcthis, argtitle) {\n\n    var data = {\n      video_title: argtitle\n\n      , video_analytics_id: argcthis.attr('data-playerid')\n      , curr_user: window.dzsap_curr_user\n    };\n    var theajaxurl = 'index.php?action=ajax_dzsap_submit_contor_60_secs';\n\n    if (window.dzsap_settings.dzsap_site_url) {\n\n      theajaxurl = dzsap_settings.dzsap_site_url + theajaxurl;\n    }\n\n\n    jQuery.ajax({\n      type: \"POST\",\n      url: theajaxurl,\n      data: data,\n      success: function (response) {\n\n\n      },\n      error: function (arg) {\n\n      }\n    });\n  }\n\n\n  window.dzsap_init_multisharer = function () {\n\n\n  }\n\n\n  window.dzsap_submit_like = function (argp, e) {\n\n    var mainarg = argp;\n    var data = {\n      action: 'dzsap_submit_like',\n      playerid: argp\n    };\n\n    var _t = null;\n\n    if (e) {\n      _t = jQuery(e.currentTarget);\n    }\n\n\n    if (window.dzsap_settings && window.dzsap_settings.ajax_url) {\n\n      jQuery.ajax({\n        type: \"POST\",\n        url: window.dzsap_settings.ajax_url,\n        data: data,\n        success: function (response) {\n\n\n          if (_t) {\n\n            var htmlaux = _t.html();\n\n            _t.html(htmlaux.replace('fa-heart-o', 'fa-heart'));\n          }\n\n        },\n        error: function (arg) {\n\n        }\n      });\n    }\n  }\n\n\n  window.dzsap_retract_like = function (argp, e) {\n\n    var mainarg = argp;\n    var data = {\n      action: 'dzsap_retract_like',\n      playerid: argp\n    };\n\n    var _t = null;\n\n    if (e) {\n      _t = jQuery(e.currentTarget);\n    }\n\n\n    if (window.dzsap_settings && window.dzsap_settings.ajax_url) {\n\n      jQuery.ajax({\n        type: \"POST\",\n        url: window.dzsap_settings.ajax_url,\n        data: data,\n        success: function (response) {\n\n\n          if (_t) {\n            var htmlaux = _t.html();\n\n            _t.html(htmlaux.replace('fa-heart', 'fa-heart-o'));\n          }\n\n        },\n        error: function (arg) {\n\n        }\n      });\n    }\n  }\n\n}\n\n/**\n * should be called only once on init\n */\nexport function dzsap_singleton_ready_calls() {\n\n  window.dzsap_singleton_ready_calls_is_called = true;\n\n\n  const $mainSettings = jQuery(DZSAP_SCRIPT_SELECTOR_MAIN_SETTINGS);\n  if ($mainSettings.length) {\n    window.dzsap_settings = JSON.parse($mainSettings.html());\n    window.ajaxurl = window.dzsap_settings.ajax_url;\n    window.dzsap_curr_user = window.dzsap_settings.dzsap_curr_user;\n  }\n\n\n  jQuery('body').append('<style class=\"dzsap--style\"></style>');\n\n\n  window.dzsap__style = jQuery('.dzsap--style');\n\n\n  jQuery('audio.zoomsounds-from-audio').each(function () {\n    var _t = jQuery(this);\n    _t.after('<div class=\"audioplayer-tobe auto-init skin-silver\" data-source=\"' + _t.attr('src') + '\"></div>');\n    _t.remove();\n  })\n\n  jQuery(document).on('focus.dzsap', 'input', function () {\n    window.dzsap_currplayer_focused = null;\n  })\n\n  registerTextWidth(jQuery);\n\n  dzsap_keyboardSetup();\n}\n\nexport function jQueryAuxBindings($) {\n\n\n  function handleClick_onGlobalZoomSoundsButton(e) {\n    var $t = $(this);\n\n\n    e.preventDefault();\n    e.stopPropagation();\n    e.stopImmediatePropagation();\n\n    if ($t.hasClass('audioplayer-song-changer')) {\n      var _c = $($t.attr('data-fakeplayer')).eq(0);\n\n\n      if (_c && _c.get(0) && _c.get(0).api_change_media) {\n        _c.get(0).api_change_media($t, {\n          'feeder_type': 'button'\n          , 'call_from': 'changed audioplayer-song-changer'\n        });\n      }\n\n      return false;\n    }\n\n    if ($t.hasClass('dzsap-wishlist-but')) {\n\n\n      var data = {\n        action: 'dzsap_add_to_wishlist',\n        playerid: $t.attr('data-post_id'),\n        wishlist_action: 'add',\n      };\n\n\n      if ($t.find('.svg-icon').hasClass('fa-star')) {\n        data.wishlist_action = 'remove';\n      }\n\n\n      if (window.dzsap_lasto.settings_php_handler) {\n        $.ajax({\n          type: \"POST\",\n          url: window.dzsap_lasto.settings_php_handler,\n          data: data,\n          success: function (response) {\n\n\n            if ($t.find('.svg-icon').hasClass('fa-star-o')) {\n              $t.find('.svg-icon').eq(0).attr('class', 'svg-icon fa fa-star');\n            } else {\n\n              $t.find('.svg-icon').eq(0).attr('class', 'svg-icon fa fa-star-o');\n            }\n\n          },\n          error: function (arg) {\n\n          }\n        });\n      }\n\n      return false;\n\n\n    }\n\n  }\n\n\n  $(document).off('click.dzsap_metas')\n  $(document).on('click.dzsap_metas', '.audioplayer-song-changer, .dzsap-wishlist-but', handleClick_onGlobalZoomSoundsButton)\n\n\n  $(document).on('click', '.dzsap-like-but', function (e) {\n\n    var _t = $(this);\n\n\n    var playerid = _t.attr('data-post_id');\n\n    if (playerid && playerid != '0') {\n\n    } else {\n      if (_t.parent().parent().parent().parent().parent().hasClass('audioplayer')) {\n\n        playerid = _t.parent().parent().parent().parent().parent().attr('data-feed-playerid');\n      }\n    }\n    window.dzsap_submit_like(playerid, e);\n\n    _t.removeClass('dzsap-like-but').addClass('dzsap-retract-like-but');\n\n    return false;\n  })\n\n  $(document).on('click', '.dzsap-retract-like-but', function (e) {\n\n    var _t = $(this);\n    var playerid = _t.attr('data-post_id');\n\n    if (playerid && playerid != '0') {\n\n    } else {\n      if (_t.parent().parent().parent().parent().parent().hasClass('audioplayer')) {\n\n        playerid = _t.parent().parent().parent().parent().parent().attr('data-feed-playerid');\n      }\n    }\n\n\n    window.dzsap_retract_like(playerid, e);\n    _t.addClass('dzsap-like-but').removeClass('dzsap-retract-like-but');\n    return false;\n  })\n\n\n}\n\n\nexport function selectText(arg) {\n\n  if (document.selection) {\n    var range = document.body.createTextRange();\n    range.moveToElementText(arg);\n    range.select();\n  } else if (window.getSelection) {\n    var range = document.createRange();\n    range.selectNode(arg);\n    window.getSelection().removeAllRanges();\n    window.getSelection().addRange(range);\n  }\n}\n\n\nexport function view_player_playMiscEffects(selfClass) {\n\n  selfClass.$conPlayPause.addClass('playing');\n\n  if (selfClass.cthis.parent().hasClass('zoomsounds-wrapper-bg-center')) {\n    selfClass.cthis.parent().addClass('is-playing');\n  }\n}\n\n\nexport function view_player_globalDetermineSyncPlayersIndex(selfClass) {\n\n  if (selfClass._sourcePlayer === null && window.dzsap_syncList_players) {\n    window.dzsap_syncList_players.forEach(($syncPlayer, index) => {\n      if (selfClass.cthis.attr('data-playerid') == $syncPlayer.attr('data-playerid')) {\n        window.dzsap_syncList_index = index;\n      }\n    })\n  }\n}\n\n\nexport function player_view_addMetaLoaded(selfClass) {\n\n  selfClass.cthis.addClass('meta-loaded');\n  selfClass.cthis.removeClass('meta-fake');\n  if (selfClass._sourcePlayer) {\n    selfClass._sourcePlayer.addClass('meta-loaded');\n    selfClass._sourcePlayer.removeClass('meta-fake');\n  }\n  if (selfClass.$totalTime) {\n\n    selfClass.timeModel.refreshTimes();\n    selfClass.$totalTime.html(formatTime(selfClass.timeModel.getVisualTotalTime()));\n  }\n  if (selfClass._sourcePlayer) {\n    selfClass._sourcePlayer.addClass('meta-loaded');\n  }\n}\n\n\nexport function player_determineActualPlayer(selfClass) {\n\n  var $ = jQuery;\n  var $fakePlayer = $(selfClass.cthis.attr('data-fakeplayer'));\n\n\n  if ($fakePlayer.length === 0) {\n    $fakePlayer = $(String(selfClass.cthis.attr('data-fakeplayer')).replace('#', '.'));\n    if ($fakePlayer.length) {\n      selfClass._actualPlayer = $(String(selfClass.cthis.attr('data-fakeplayer')).replace('#', '.'));\n      selfClass.cthis.attr('data-fakeplayer', String(selfClass.cthis.attr('data-fakeplayer')).replace('#', '.'));\n    }\n  }\n\n  if ($fakePlayer.length === 0) {\n    selfClass.cthis.attr('data-fakeplayer', '');\n  } else {\n    selfClass.cthis.addClass('player-is-feeding is-source-player-for-actual-player');\n    if (selfClass.cthis.attr('data-type')) {\n      selfClass._actualPlayer = $(selfClass.cthis.attr('data-fakeplayer')).eq(0);\n      selfClass._actualPlayer.addClass('player-is-feeded');\n      selfClass.actualDataTypeOfMedia = selfClass.cthis.attr('data-type');\n      selfClass.cthis.attr('data-original-type', selfClass.actualDataTypeOfMedia);\n    }\n  }\n}\n\nfunction htmlEntities(str) {\n  return String(str).replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\"/g, '&quot;');\n}\n\nexport function waitForScriptToBeAvailableThenExecute(verifyVar, callbackFn) {\n\n  new Promise((resolve, reject) => {\n\n    var checkInterval = 0;\n\n    function checkIfVarExists() {\n      if (verifyVar) {\n        clearInterval(checkInterval);\n        resolve('var exists');\n      }\n    }\n\n    checkIfVarExists()\n    checkInterval = setInterval(checkIfVarExists, 300);\n    setTimeout(() => {\n      reject('timeout');\n    }, 5000);\n\n  }).then((resolve => {\n    callbackFn(resolve);\n  })).catch((err) => {\n  })\n}\n\n\nexport function configureAudioPlayerOptionsInitial(cthis, o, selfClass) {\n\n\n  selfClass.cthis.addClass('preload-method-' + o.preload_method);\n\n  o.wavesurfer_pcm_length = Number(o.wavesurfer_pcm_length);\n\n\n  o.settings_trigger_resize = parseInt(o.settings_trigger_resize, 10);\n\n\n  if (isNaN(parseInt(o.design_thumbh, 10)) === false) {\n    o.design_thumbh = parseInt(o.design_thumbh, 10);\n  }\n\n  if (o.skinwave_wave_mode === '') {\n    o.skinwave_wave_mode = 'canvas';\n  }\n  if (o.skinwave_wave_mode_canvas_normalize === '') {\n    o.skinwave_wave_mode_canvas_normalize = 'on';\n  }\n  if (o.skinwave_wave_mode_canvas_waves_number === '' || isNaN(Number(o.skinwave_wave_mode_canvas_waves_number))) {\n    o.skinwave_wave_mode_canvas_waves_number = 3;\n  }\n\n\n  if (o.autoplay === 'on' && o.cue === 'on') {\n    o.preload_method = 'auto';\n  }\n\n  cthis.addClass(o.extra_classes_player)\n\n  if (o.design_skin === '') {\n    o.design_skin = 'skin-default';\n  }\n\n\n  if (selfClass.cthis.find('.feed-dzsap--embed-code').length) {\n\n    selfClass.feedEmbedCode = selfClass.cthis.find('.feed-dzsap--embed-code').eq(0).html();\n  } else {\n    if (o.embed_code !== '') {\n      selfClass.feedEmbedCode = o.embed_code;\n    }\n  }\n\n  if (is_ios()) {\n\n    if (selfClass.initOptions.skinwave_enableSpectrum === 'on') {\n      selfClass.initOptions.skinwave_enableSpectrum = 'off';\n    }\n\n  }\n\n  var regexr = / skin-/g;\n\n\n  if (regexr.test(cthis.attr('class'))) {\n\n  } else {\n\n    cthis.addClass(o.design_skin);\n  }\n\n\n  if (cthis.hasClass('skin-default')) {\n    o.design_skin = 'skin-default';\n  }\n  if (cthis.hasClass('skin-wave')) {\n    o.design_skin = 'skin-wave';\n  }\n  if (cthis.hasClass('skin-justthumbandbutton')) {\n    o.design_skin = 'skin-justthumbandbutton';\n  }\n  if (cthis.hasClass('skin-pro')) {\n    o.design_skin = 'skin-pro';\n  }\n  if (cthis.hasClass('skin-aria')) {\n    o.design_skin = 'skin-aria';\n  }\n  if (cthis.hasClass('skin-silver')) {\n    o.design_skin = 'skin-silver';\n  }\n  if (cthis.hasClass('skin-redlights')) {\n    o.design_skin = 'skin-redlights';\n  }\n  if (cthis.hasClass('skin-steel')) {\n    o.design_skin = 'skin-steel';\n  }\n  if (cthis.hasClass('skin-customcontrols')) {\n    o.design_skin = 'skin-customcontrols';\n  }\n\n\n  if (o.design_skin === 'skin-wave') {\n    if (o.scrubbar_type === 'auto') {\n      o.scrubbar_type = 'wave';\n    }\n  }\n  if (o.scrubbar_type === 'auto') {\n    o.scrubbar_type = 'bar';\n  }\n\n  if (o.settings_php_handler === 'wpdefault') {\n    o.settings_php_handler = window.ajaxurl;\n  }\n  if (o.action_received_time_total === 'wpdefault') {\n    o.action_received_time_total = window.dzsap_send_total_time;\n  }\n  if (o.action_video_contor_60secs === 'wpdefault') {\n    o.action_video_contor_60secs = window.action_video_contor_60secs;\n  }\n\n\n  if (is_ios() || is_android()) {\n    o.autoplay = 'off';\n    o.disable_volume = 'on';\n    if (o.cueMedia === 'off') {\n      o.cueMedia = 'on';\n    }\n    o.cueMedia = 'on';\n  }\n\n  if (cthis.attr('data-viewsubmitted') === 'on') {\n    selfClass.ajax_view_submitted = 'on';\n\n\n  }\n  if (cthis.attr('data-userstarrating')) {\n    selfClass.starrating_alreadyrated = Number(cthis.attr('data-userstarrating'));\n  }\n\n  if (cthis.attr('data-loop') === 'on') {\n    selfClass.initOptions.loop = 'on';\n  }\n\n\n  if (cthis.hasClass('skin-minimal')) {\n    o.design_skin = 'skin-minimal';\n    if (o.disable_volume === 'default') {\n      o.disable_volume = 'on';\n    }\n\n    if (o.disable_scrub === 'default') {\n      o.disable_scrub = 'on';\n    }\n    o.disable_timer = 'on';\n  }\n  if (cthis.hasClass('skin-minion')) {\n    o.design_skin = 'skin-minion';\n    if (o.disable_volume === 'default') {\n      o.disable_volume = 'on';\n    }\n\n    if (o.disable_scrub === 'default') {\n      o.disable_scrub = 'on';\n    }\n\n    o.disable_timer = 'on';\n  }\n\n\n  if (o.design_color_bg) {\n    o.design_wave_color_bg = o.design_color_bg;\n  }\n\n\n  if (o.design_color_highlight) {\n    o.design_wave_color_progress = o.design_color_highlight;\n  }\n\n\n  if (o.design_skin === 'skin-justthumbandbutton') {\n    if (o.design_thumbh === 'default') {\n      o.design_thumbh = '';\n\n    }\n    o.disable_timer = 'on';\n    o.disable_volume = 'on';\n\n    if (o.design_animateplaypause === 'default') {\n      o.design_animateplaypause = 'on';\n    }\n  }\n  if (o.design_skin === 'skin-redlights') {\n    o.disable_timer = 'on';\n    o.disable_volume = 'off';\n    if (o.design_animateplaypause === 'default') {\n      o.design_animateplaypause = 'on';\n    }\n\n  }\n  if (o.design_skin === 'skin-steel') {\n    if (o.disable_timer === 'default') {\n\n      o.disable_timer = 'off';\n    }\n    o.disable_volume = 'on';\n    if (o.design_animateplaypause === 'default') {\n      o.design_animateplaypause = 'on';\n    }\n\n\n    if (o.disable_scrub === 'default') {\n      o.disable_scrub = 'on';\n    }\n\n  }\n  if (o.design_skin === 'skin-customcontrols') {\n    if (o.disable_timer === 'default') {\n\n      o.disable_timer = 'on';\n    }\n    o.disable_volume = 'on';\n    if (o.design_animateplaypause === 'default') {\n      o.design_animateplaypause = 'on';\n    }\n\n\n    if (o.disable_scrub === 'default') {\n      o.disable_scrub = 'on';\n    }\n\n  }\n\n  if (o.skinwave_wave_mode_canvas_mode === 'reflecto') {\n    o.skinwave_wave_mode_canvas_reflection_size = 0.5;\n\n\n  }\n\n  if (o.skinwave_wave_mode_canvas_mode === 'reflecto') {\n    o.skinwave_wave_mode_canvas_reflection_size = 0.5;\n\n  }\n\n\n  if (o.embed_code === '') {\n    if (cthis.find('div.feed-embed-code').length > 0) {\n      o.embed_code = cthis.find('div.feed-embed-code').eq(0).html();\n    }\n  }\n\n  if (o.design_animateplaypause === 'default') {\n    o.design_animateplaypause = 'off';\n  }\n\n  if (o.design_animateplaypause === 'on') {\n    cthis.addClass('design-animateplaypause');\n  }\n\n  if (window.dzsap_settings) {\n    if (window.dzsap_settings.ajax_url) {\n      if (!o.settings_php_handler) {\n\n        o.settings_php_handler = window.dzsap_settings.ajax_url;\n      }\n    }\n  }\n\n  if (o.settings_php_handler) {\n    selfClass.urlToAjaxHandler = o.settings_php_handler;\n  }\n\n\n  player_reinit_findIfPcmNeedsGenerating(selfClass);\n\n}\n\n\nexport function player_reinit_findIfPcmNeedsGenerating(selfClass) {\n  const o = selfClass.initOptions;\n\n  if (selfClass.cthis.attr('data-pcm')) {\n    selfClass.hasInitialPcmData = true;\n  }\n\n  if (!selfClass.hasInitialPcmData && o.skinwave_wave_mode === 'canvas' && (o.design_skin === 'skin-wave' || selfClass.cthis.attr('data-fakeplayer'))) {\n    selfClass.isPcmRequiredToGenerate = true;\n  }\n\n\n  if (o.scrubbar_type === 'wave') {\n    if (o.is_inited_from_playlist) {\n\n      selfClass.cthis.addClass('scrubbar-type-wave--has-reveal-animation');\n    }\n    if (o.scrubbar_type_wave__has_reveal_animation === 'on') {\n\n      selfClass.cthis.addClass('scrubbar-type-wave--has-reveal-animation');\n    }\n    if (selfClass.isPcmRequiredToGenerate) {\n\n\n      selfClass.cthis.addClass('scrubbar-type-wave--has-reveal-animation');\n    }\n  }\n}\n\n\nexport function playerFunctions(selfClass, functionType) {\n  var o = selfClass.initOptions;\n\n  if (functionType === 'detectIds') {\n\n\n    if (o.skinwave_comments_playerid === '') {\n      if (typeof (selfClass.cthis.attr('id')) !== 'undefined') {\n        selfClass.the_player_id = selfClass.cthis.attr('id');\n      }\n    }\n\n\n    if (selfClass.the_player_id == '') {\n\n      if (selfClass.cthis.attr('data-computed-playerid')) {\n        selfClass.the_player_id = selfClass.cthis.attr('data-computed-playerid');\n      }\n      if (selfClass.cthis.attr('data-real-playerid')) {\n        selfClass.the_player_id = selfClass.cthis.attr('data-real-playerid');\n      }\n    }\n    selfClass.uniqueId = selfClass.the_player_id;\n\n    if (typeof selfClass.uniqueId === 'string') {\n      selfClass.uniqueId = selfClass.uniqueId.replace('ap', '');\n    }\n    selfClass.identifier_pcm = selfClass.uniqueId;\n\n\n    if (selfClass.uniqueId === '') {\n      o.skinwave_comments_enable = 'off';\n    }\n\n  }\n}\n\nexport function player_delete(selfClass) {\n\n  var _con = null;\n  if (selfClass.cthis.parent().parent().hasClass('dzsap-sticktobottom')) {\n    _con = selfClass.cthis.parent().parent();\n  }\n  if (_con) {\n    if (_con.prev().hasClass(\"dzsap-sticktobottom-placeholder\")) {\n      _con.prev().remove();\n    }\n    _con.remove();\n  }\n  selfClass.cthis.remove();\n  return false;\n}\n\nexport function player_viewApplySkinWaveModes(selfClass) {\n\n\n  var o = selfClass.initOptions;\n\n  selfClass.cthis.removeClass('skin-wave-mode-normal');\n\n  if (o.design_skin === 'skin-wave') {\n    selfClass.cthis.addClass('skin-wave-mode-' + selfClass.skinwave_mode);\n\n\n    selfClass.cthis.addClass('skin-wave-wave-mode-' + o.skinwave_wave_mode);\n    if (o.skinwave_enableSpectrum === 'on') {\n      selfClass.cthis.addClass('skin-wave-is-spectrum');\n    }\n    selfClass.cthis.addClass('skin-wave-wave-mode-canvas-mode-' + o.skinwave_wave_mode_canvas_mode);\n  }\n\n\n}\n\n\nexport function sanitizeToHexColor(hexcolor) {\n  if (hexcolor.indexOf('#') === -1) {\n    hexcolor = '#' + hexcolor;\n  }\n  return hexcolor;\n}\n\nexport function player_identifySource(selfClass) {\n\n  selfClass.data_source = selfClass.cthis.attr('data-source') || '';\n}\n\nexport function player_identifyTypes(selfClass) {\n\n\n  var o = selfClass.initOptions;\n  const cthis = selfClass.cthis;\n  if (cthis.attr('data-type') === 'youtube') {\n    o.type = 'youtube';\n    selfClass.audioType = 'youtube';\n  }\n  if (cthis.attr('data-type') === 'soundcloud') {\n    o.type = 'soundcloud';\n    selfClass.audioType = 'soundcloud';\n\n    o.skinwave_enableSpectrum = 'off';\n    cthis.removeClass('skin-wave-is-spectrum');\n  }\n  if (cthis.attr('data-type') === 'mediafile') {\n    o.type = 'audio';\n    selfClass.audioType = 'audio';\n  }\n\n  if (cthis.attr('data-type') === 'shoutcast') {\n    o.type = 'shoutcast';\n    selfClass.audioType = 'audio';\n    o.disable_timer = 'on';\n    o.skinwave_enableSpectrum = 'off';\n\n\n    if (o.design_skin === 'skin-default') {\n      o.disable_scrub = 'on';\n    }\n\n  }\n\n\n  if (selfClass.audioType === 'audio' || selfClass.audioType === 'normal' || selfClass.audioType === '') {\n    selfClass.audioType = 'selfHosted';\n  }\n\n\n  if (String(selfClass.data_source).indexOf('https://soundcloud.com/') > -1) {\n    selfClass.audioType = 'soundcloud';\n  }\n}\n\nexport function player_adjustIdentifiers(selfClass) {\n\n  selfClass.identifier_pcm = selfClass.the_player_id;\n\n\n  var _feed_obj = null;\n\n  if (selfClass.$feed_fakeButton) {\n    _feed_obj = selfClass.$feed_fakeButton;\n  } else {\n    if (selfClass._sourcePlayer) {\n      _feed_obj = selfClass._sourcePlayer;\n    } else {\n      _feed_obj = null;\n    }\n  }\n\n\n  if (selfClass.identifier_pcm === 'dzs_footer') {\n    selfClass.identifier_pcm = dzs_clean_string(selfClass.cthis.attr('data-source'));\n  }\n\n  if (_feed_obj) {\n    if (_feed_obj.attr('data-playerid')) {\n      selfClass.identifier_pcm = _feed_obj.attr('data-playerid');\n    } else {\n      if (_feed_obj.attr('data-source')) {\n        selfClass.identifier_pcm = _feed_obj.attr('data-source');\n      }\n    }\n  }\n\n  if (typeof selfClass.identifier_pcm === 'string') {\n    selfClass.identifier_pcm = selfClass.identifier_pcm.replace('ap', '');\n  }\n\n}\n\n\nexport function player_getPlayFromTime(selfClass) {\n\n  selfClass.playFrom = selfClass.initOptions.playfrom;\n\n  if (isValid(selfClass.cthis.attr('data-playfrom'))) {\n    selfClass.playFrom = selfClass.cthis.attr('data-playfrom');\n  }\n\n  if (isNaN(parseInt(selfClass.playFrom, 10)) === false) {\n    selfClass.playFrom = parseInt(selfClass.playFrom, 10);\n  }\n\n\n  if (selfClass.playFrom === 'off' || selfClass.playFrom === '') {\n    if (get_query_arg(window.location.href, 'audio_time')) {\n      selfClass.playFrom = sanitizeToIntFromPointTime(get_query_arg(window.location.href, 'audio_time'));\n    }\n  }\n\n  if (selfClass.timeModel.sampleTimeStart) {\n    if (selfClass.playFrom < selfClass.timeModel.sampleTimeStart) {\n      selfClass.playFrom = selfClass.timeModel.sampleTimeStart;\n    }\n    if (typeof selfClass.playFrom === 'string') {\n      selfClass.playFrom = selfClass.timeModel.sampleTimeStart;\n    }\n  }\n}\n\n\nexport function sanitizeToIntFromPointTime(arg) {\n\n\n  arg = String(arg).replace('%3A', ':');\n  arg = String(arg).replace('#', '');\n\n  if (arg && String(arg).indexOf(':') > -1) {\n\n    var arr = /(\\d.*):(\\d.*)/g.exec(arg);\n\n\n    var m = parseInt(arr[1], 10);\n    var s = parseInt(arr[2], 10);\n\n\n    return (m * 60) + s;\n  } else {\n    return Number(arg);\n  }\n}\n\nexport function player_initSpectrum(selfClass) {\n\n  if (window.dzsap_audio_ctx === null) {\n    if (typeof AudioContext !== 'undefined') {\n      selfClass.spectrum_audioContext = new AudioContext();\n    } else if (typeof webkitAudioContext !== 'undefined') {\n      selfClass.spectrum_audioContext = new webkitAudioContext();\n    } else {\n      selfClass.spectrum_audioContext = null;\n    }\n    window.dzsap_audio_ctx = selfClass.spectrum_audioContext;\n  } else {\n    selfClass.spectrum_audioContext = window.dzsap_audio_ctx;\n  }\n\n\n  if (selfClass.spectrum_audioContext) {\n\n\n    if (selfClass.spectrum_analyser === null) {\n\n      selfClass.spectrum_analyser = selfClass.spectrum_audioContext.createAnalyser();\n      selfClass.spectrum_analyser.smoothingTimeConstant = 0.3;\n      selfClass.spectrum_analyser.fftSize = 512;\n\n\n      if (selfClass.audioType === 'selfHosted') {\n\n\n        selfClass.$mediaNode_.crossOrigin = \"anonymous\";\n        selfClass.spectrum_mediaElementSource = selfClass.spectrum_audioContext.createMediaElementSource(selfClass.$mediaNode_);\n\n        selfClass.spectrum_mediaElementSource.connect(selfClass.spectrum_analyser);\n        if (selfClass.spectrum_audioContext.createGain) {\n          selfClass.spectrum_gainNode = selfClass.spectrum_audioContext.createGain();\n        }\n        selfClass.spectrum_analyser.connect(selfClass.spectrum_audioContext.destination);\n\n        selfClass.spectrum_gainNode.gain.value = 1;\n\n        var frameCount = selfClass.spectrum_audioContext.sampleRate * 2.0;\n        selfClass.spectrum_audioContext_buffer = selfClass.spectrum_audioContext.createBuffer(2, frameCount, selfClass.spectrum_audioContext.sampleRate);\n      }\n    }\n  }\n}\n\nexport function player_initSpectrumOnUserAction(selfClass) {\n\n\n  selfClass.cthis.get(0).addEventListener('mousedown', handleMouseDown, {once: true});\n  selfClass.cthis.get(0).addEventListener('touchdown', handleMouseDown, {once: true});\n\n  function handleMouseDown(e) {\n    player_initSpectrum(selfClass);\n  }\n\n\n}\n\n\nexport function player_icecastOrShoutcastRefresh(selfClass) {\n\n\n  var url = selfClass.cthis.attr('data-source');\n\n  if (selfClass.audioTypeSelfHosted_streamType === 'shoutcast') {\n    url = add_query_arg(selfClass.urlToAjaxHandler, 'action', 'dzsap_shoutcast_get_streamtitle');\n    url = add_query_arg(url, 'source', (selfClass.data_source));\n  }\n\n\n  jQuery.ajax({\n    type: \"GET\",\n    url: url,\n    crossDomain: true,\n    success: function (response) {\n\n      if (response.documentElement && response.documentElement.innerHTML) {\n        response = response.documentElement.innerHTML;\n      }\n\n\n      var regex_title = '';\n      var regex_creator = '';\n      var new_title = '';\n      var new_artist = '';\n\n      if (selfClass.audioTypeSelfHosted_streamType === 'icecast') {\n\n        var regex_location = /<location>(.*?)<\\/location>/g\n\n        var regexMatches = null;\n        if (regexMatches = regex_location.exec(response)) {\n\n\n          if (regexMatches[1] !== selfClass.data_source) {\n            selfClass.data_source = regexMatches[1];\n            selfClass.setup_media({\n              'called_from': 'icecast setup'\n            });\n          }\n        }\n      }\n\n      if (selfClass.radio_isGoingToUpdateSongName) {\n        if (selfClass.audioTypeSelfHosted_streamType === 'icecast') {\n          regex_title = /<title>(.*?)<\\/title>/g\n\n          if (regexMatches = regex_title.exec(response)) {\n            new_title = regexMatches[1];\n          }\n        }\n        if (selfClass.audioTypeSelfHosted_streamType === 'shoutcast') {\n          new_title = response;\n        }\n\n      }\n      if (selfClass.radio_isGoingToUpdateArtistName) {\n        if (selfClass.audioTypeSelfHosted_streamType === 'icecast') {\n\n          regex_creator = /<creator>(.*?)<\\/creator>/g;\n\n          if (regexMatches = regex_creator.exec(response)) {\n            new_artist = regexMatches[1];\n          }\n        }\n        if (selfClass.audioTypeSelfHosted_streamType === 'shoutcast') {\n        }\n      }\n\n      if (selfClass.radio_isGoingToUpdateSongName) {\n\n        selfClass._metaArtistCon.find('.the-name').html(new_title);\n      }\n      if (selfClass.radio_isGoingToUpdateArtistName) {\n\n        selfClass._metaArtistCon.find('.the-artist').html(new_artist)\n      }\n    },\n    error: function (err) {\n\n    }\n  });\n\n}\n\n/**\n * called in player init()\n * @param selfClass\n */\nexport function player_determineStickToBottomContainer(selfClass) {\n\n  if (selfClass.cthis.parent().hasClass('dzsap-sticktobottom')) {\n    selfClass.$stickToBottomContainer = selfClass.cthis.parent();\n    selfClass.isStickyPlayer = true;\n\n  }\n  if (selfClass.cthis.parent().parent().hasClass('dzsap-sticktobottom')) {\n    selfClass.$stickToBottomContainer = selfClass.cthis.parent().parent();\n    selfClass.isStickyPlayer = true;\n  }\n}\n\nexport function player_stickToBottomContainerDetermineClasses(selfClass) {\n\n  if (selfClass.$stickToBottomContainer) {\n    if (selfClass.cthis.hasClass('theme-dark')) {\n      selfClass.$stickToBottomContainer.addClass('theme-dark');\n    }\n\n    setTimeout(function () {\n\n      selfClass.$stickToBottomContainer.addClass('inited');\n    }, 500)\n\n\n  }\n\n}\n\nexport function player_service_getSourceProtection(selfClass) {\n\n  return new Promise((resolve, reject) => {\n\n    jQuery.ajax({\n      type: \"POST\",\n      url: selfClass.data_source,\n      data: {},\n      success: function (response) {\n        resolve(response);\n      },\n      error: function (err) {\n        reject(err);\n      }\n    });\n  })\n}\n\nexport function player_isGoingToSetupMediaNow(selfClass) {\n  return selfClass.audioTypeSelfHosted_streamType !== 'icecast' && selfClass.audioType !== 'youtube';\n}\n\nexport function player_determineHtmlAreas(selfClass) {\n\n  var o = selfClass.initOptions;\n\n\n  let extraHtmlBottom = '';\n  let extraHtmlControlsLeft = '';\n  let extraHtmlControlsRight = '';\n\n\n  if (selfClass.cthis.children('.feed-dzsap--extra-html').length > 0 && o.settings_extrahtml === '') {\n    selfClass.cthis.children('.feed-dzsap--extra-html').each(function () {\n\n      extraHtmlBottom += jQuery(this).html();\n    })\n    selfClass.cthis.children('.feed-dzsap--extra-html').remove();\n  } else {\n    if (o.settings_extrahtml) {\n      extraHtmlBottom = o.settings_extrahtml;\n    }\n  }\n\n\n  if (selfClass.cthis.children('.feed-dzsap--extra-html-in-controls-left').length > 0) {\n    extraHtmlControlsLeft = selfClass.cthis.children('.feed-dzsap--extra-html-in-controls-left').eq(0).html();\n  }\n  if (selfClass.cthis.children('.feed-dzsap--extra-html-in-controls-right').length > 0) {\n    extraHtmlControlsRight = selfClass.cthis.children('.feed-dzsap--extra-html-in-controls-right').eq(0).html();\n  }\n  if (selfClass.cthis.children('.feed-dzsap--extra-html-bottom').length > 0) {\n    extraHtmlBottom = selfClass.cthis.children('.feed-dzsap--extra-html-bottom').eq(0).html();\n  }\n\n\n  selfClass.extraHtmlAreas.controlsLeft = extraHtmlControlsLeft;\n  selfClass.extraHtmlAreas.controlsRight = extraHtmlControlsRight;\n  selfClass.extraHtmlAreas.bottom = extraHtmlBottom;\n\n\n  if (selfClass.extraHtmlAreas.controlsRight) {\n    selfClass.extraHtmlAreas.controlsRight = String(selfClass.extraHtmlAreas.controlsRight).replace(/{{svg_share_icon}}/g, svg_share_icon);\n  }\n\n\n  for (var key in selfClass.extraHtmlAreas) {\n\n    selfClass.extraHtmlAreas[key] = String(selfClass.extraHtmlAreas[key]).replace('{{heart_svg}}', '\\t&hearts;');\n    selfClass.extraHtmlAreas[key] = String(selfClass.extraHtmlAreas[key]).replace('{{embed_code}}', selfClass.feedEmbedCode);\n  }\n}\n\nexport function player_stopOtherPlayers(dzsap_list, selfClass) {\n\n  var i = 0;\n  for (i = 0; i < dzsap_list.length; i++) {\n\n    if (dzsap_list[i].get(0) && dzsap_list[i].get(0).api_pause_media && (dzsap_list[i].get(0) != selfClass.cthis.get(0))) {\n\n\n      if (dzsap_list[i].data('type_audio_stop_buffer_on_unfocus') && dzsap_list[i].data('type_audio_stop_buffer_on_unfocus') === 'on') {\n        dzsap_list[i].get(0).api_destroy_for_rebuffer();\n      } else {\n        dzsap_list[i].get(0).api_pause_media({\n          'audioapi_setlasttime': false\n        });\n      }\n    }\n  }\n}\n\n\nexport function player_syncPlayers_gotoItem(selfClass, targetIncrement) {\n  if (window.dzsap_settings.syncPlayers_autoplayEnabled) {\n\n    for (var keySyncPlayer in window.dzsap_syncList_players) {\n      var $playerInSyncList = selfClass.cthis;\n\n      if (selfClass._sourcePlayer) {\n        $playerInSyncList = selfClass._sourcePlayer;\n      }\n\n\n      if (window.dzsap_syncList_players[keySyncPlayer].get(0) === $playerInSyncList.get(0)) {\n\n        keySyncPlayer = parseInt(keySyncPlayer, 10);\n        let targetIndex = window.dzsap_syncList_index + targetIncrement;\n        if (targetIndex >= 0 && targetIndex < window.dzsap_syncList_players.length) {\n          let $currentSyncPlayer_ = window.dzsap_syncList_players[targetIndex].get(0);\n\n\n          if ($currentSyncPlayer_ && $currentSyncPlayer_.api_play_media) {\n            setTimeout(function () {\n              $currentSyncPlayer_.api_play_media({\n                'called_from': 'api_sync_players_prev'\n              });\n            }, 200);\n\n          }\n        }\n      }\n    }\n  }\n\n}\n\nexport function player_syncPlayers_buildList() {\n\n  if (!window.syncPlayers_isDzsapListBuilt) {\n\n    window.dzsap_syncList_players = [];\n\n    window.syncPlayers_isDzsapListBuilt = true;\n\n    jQuery('.audioplayer.is-single-player,.audioplayer-tobe.is-single-player').each(function () {\n      var _t23 = jQuery(this);\n\n\n      if (_t23.hasClass('dzsap_footer')) {\n        return;\n      }\n\n\n      if (_t23.attr('data-do-not-include-in-list') !== 'on') {\n        window.dzsap_syncList_players.push(_t23);\n      }\n    })\n\n\n    clearTimeout(window.syncPlayers_buildTimeout);\n\n    window.syncPlayers_buildTimeout = setTimeout(function () {\n      window.syncPlayers_isDzsapListBuilt = false;\n    }, 500);\n\n  }\n}\n\nexport function player_detect_skinwave_mode() {\n\n  var selfClass = this;\n\n\n  selfClass.skinwave_mode = selfClass.initOptions.skinwave_mode;\n\n  if (selfClass.cthis.hasClass('skin-wave-mode-small')) {\n    selfClass.skinwave_mode = 'small'\n  }\n  if (selfClass.cthis.hasClass('skin-wave-mode-alternate')) {\n    selfClass.skinwave_mode = 'alternate'\n  }\n  if (selfClass.cthis.hasClass('skin-wave-mode-bigwavo')) {\n    selfClass.skinwave_mode = 'bigwavo'\n  }\n}\n\nexport function player_constructArtistAndSongCon(margs) {\n\n  var selfClass = this;\n\n  if (selfClass.cthis.find('.meta-artist').length === 0) {\n    if (selfClass.cthis.find('.feed-artist-name').length || selfClass.cthis.find('.feed-song-name').length) {\n      var structHtml = '<span class=\"meta-artist player-artistAndSong\">';\n      if (selfClass.cthis.find('.feed-artist-name').length) {\n        structHtml += '<span class=\"the-artist\">' + selfClass.cthis.find('.feed-artist-name').eq(0).html() + '</span>';\n      }\n      if (selfClass.cthis.find('.feed-song-name').length) {\n        structHtml += '<span class=\"the-name player-meta--songname\">' + selfClass.cthis.find('.feed-song-name').eq(0).html() + '</span>';\n      }\n      structHtml += '</span>';\n      selfClass.cthis.append(structHtml);\n    }\n  }\n\n  if (selfClass.cthis.attr(\"data-type\") === 'fake') {\n    if (selfClass.cthis.find('.meta-artist').length === 0) {\n      selfClass.cthis.append('<span class=\"meta-artist\"><span class=\"the-artist\"></span><span class=\"the-name\"></span></span>')\n    }\n  }\n\n  if (!selfClass._metaArtistCon || margs.call_from === 'reconstruct') {\n\n    if (selfClass.cthis.children('.meta-artist').length > 0) {\n\n      if (selfClass.cthis.hasClass('skin-wave-mode-alternate')) {\n\n\n        if (selfClass._conControls.children().last().hasClass('clear')) {\n          selfClass._conControls.children().last().remove();\n        }\n        selfClass._conControls.append(selfClass.cthis.children('.meta-artist'));\n      } else {\n\n\n        if (selfClass._audioplayerInner) {\n\n          selfClass._audioplayerInner.append(selfClass.cthis.children('.meta-artist'));\n        }\n      }\n\n    }\n\n\n    selfClass._audioplayerInner.find('.meta-artist').eq(0).wrap('<div class=\"meta-artist-con\"></div>');\n\n\n    selfClass._metaArtistCon = selfClass._audioplayerInner.find('.meta-artist-con').eq(0);\n\n\n    var o = selfClass.initOptions;\n\n\n    if (selfClass._apControls.find('.ap-controls-right').length > 0) {\n      selfClass._apControlsRight = selfClass.cthis.find('.ap-controls-right').eq(0);\n    }\n    if (selfClass._apControls.find('.ap-controls-left').length > 0) {\n      selfClass._apControlsLeft = selfClass._apControls.find('.ap-controls-left').eq(0);\n    }\n\n\n    if (o.design_skin === 'skin-pro') {\n      selfClass._apControlsRight = selfClass.cthis.find('.con-controls--right').eq(0)\n    }\n\n    if (o.design_skin === 'skin-wave') {\n\n\n      if (selfClass.cthis.find('.dzsap-repeat-button').length) {\n        selfClass.cthis.find('.dzsap-repeat-button').after(selfClass._metaArtistCon);\n      } else {\n\n\n        if (selfClass.cthis.find('.dzsap-loop-button').length && selfClass.cthis.find('.dzsap-loop-button').eq(0).parent().hasClass('feed-dzsap-for-extra-html-right') === false) {\n          selfClass.cthis.find('.dzsap-loop-button').after(selfClass._metaArtistCon);\n        } else {\n\n          selfClass._conPlayPauseCon.after(selfClass._metaArtistCon);\n        }\n      }\n\n      if (selfClass.skinwave_mode === 'alternate') {\n        selfClass._apControlsRight.before(selfClass._metaArtistCon);\n      }\n\n\n    }\n    if (o.design_skin === 'skin-aria') {\n      selfClass._apControlsRight.prepend(selfClass._metaArtistCon);\n\n    }\n    if (o.design_skin === 'skin-redlights' || o.design_skin === 'skin-steel') {\n\n      selfClass._apControlsRight.prepend(selfClass._metaArtistCon);\n\n\n    }\n    if (o.design_skin === 'skin-silver') {\n      selfClass._apControlsRight.append(selfClass._metaArtistCon);\n    }\n    if (o.design_skin === 'skin-default') {\n      selfClass._apControlsRight.before(selfClass._metaArtistCon);\n    }\n\n\n  }\n\n\n}\n\n\nexport function convertPluginOptionsToFinalOptions(elThis, defaultOptions, argOptions = null, searchedAttr = 'data-options', $es) {\n\n  var finalOptions = null;\n  var tempOptions = {};\n  var isSetFromJson = false;\n\n  if ($es === undefined) {\n    $es = jQuery;\n  }\n\n\n  var $elThis = $es(elThis);\n\n  const isArgOptionsDefinedViaJs = Boolean(argOptions && typeof argOptions === 'object' && Object.keys(argOptions).length);\n\n\n  if (isArgOptionsDefinedViaJs) {\n    tempOptions = argOptions;\n  } else {\n    if ($elThis.attr(searchedAttr)) {\n      try {\n        tempOptions = JSON.parse($elThis.attr(searchedAttr));\n        isSetFromJson = true;\n      } catch (err) {\n\n      }\n    }\n    if (!isSetFromJson) {\n      if (typeof $elThis.attr(searchedAttr) != 'undefined' && $elThis.attr('data-options') != '') {\n        var aux = $elThis.attr(searchedAttr);\n        aux = 'var aux_opts = ' + aux;\n        eval(aux);\n        tempOptions = Object.assign({}, argOptions);\n      }\n    }\n  }\n  finalOptions = Object.assign(defaultOptions, tempOptions);\n\n  return finalOptions;\n}\n\nexport function generateFakeArrayForPcm() {\n\n\n  var maxlen = 256;\n\n  var arr = [];\n\n  for (var it1 = 0; it1 < maxlen; it1++) {\n    arr[it1] = Math.random() * 100;\n\n  }\n\n  return arr;\n}\n\n\nexport function scrubbar_modeWave_clearObsoleteCanvas(selfClass) {\n  if (selfClass._scrubbar) {\n    selfClass._scrubbar.find('.scrubbar-type-wave--canvas.transitioning-out').remove();\n  }\n}\n\n\nexport function scrubbar_modeWave_setupCanvas(pargs, selfClass) {\n\n  var margs = {\n    prepare_for_transition_in: false\n  }\n\n  if (pargs) {\n    margs = Object.assign(margs, pargs);\n  }\n\n\n  var struct_scrubBg_str = '';\n  var struct_scrubProg_str = '';\n  var aux_selector = '';\n  var o = selfClass.initOptions;\n\n\n  struct_scrubBg_str = '<canvas class=\"scrubbar-type-wave--canvas scrub-bg-img';\n  struct_scrubBg_str += '\" ></canvas>';\n\n  struct_scrubProg_str = '<canvas class=\"scrubbar-type-wave--canvas scrub-prog-img';\n  struct_scrubProg_str += '\" ></canvas>';\n\n\n  selfClass._scrubbar.find('.scrub-bg').eq(0).append(struct_scrubBg_str);\n  selfClass._scrubbar.find('.scrub-prog').eq(0).append(struct_scrubProg_str);\n\n\n  selfClass._scrubbarbg_canvas = selfClass._scrubbar.find('.scrub-bg-img').last();\n  selfClass._scrubbarprog_canvas = selfClass._scrubbar.find('.scrub-prog-img').last();\n\n  if (o.skinwave_enableSpectrum === 'on') {\n    selfClass._scrubbarprog_canvas.hide();\n  }\n\n\n  if (margs.prepare_for_transition_in) {\n    selfClass._scrubbarbg_canvas.addClass('preparing-transitioning-in');\n    selfClass._scrubbarprog_canvas.addClass('preparing-transitioning-in');\n    setTimeout(function () {\n      selfClass._scrubbarbg_canvas.addClass('transitioning-in');\n      selfClass._scrubbarprog_canvas.addClass('transitioning-in');\n    }, 20);\n  }\n}\n","\n\n\nexport const playbtn_svg = '<svg class=\"svg-icon\" version=\"1.2\" baseProfile=\"tiny\" id=\"Layer_1\" xmlns=\"https://www.w3.org/2000/svg\" xmlns:xlink=\"https://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" width=\"25px\" height=\"30px\" viewBox=\"0 0 25 30\" xml:space=\"preserve\"> <path d=\"M24.156,13.195L2.406,0.25C2.141,0.094,1.867,0,1.555,0C0.703,0,0.008,0.703,0.008,1.562H0v26.875h0.008 C0.008,29.297,0.703,30,1.555,30c0.32,0,0.586-0.109,0.875-0.266l21.727-12.93C24.672,16.375,25,15.727,25,15 S24.672,13.633,24.156,13.195z\"/> </svg>';\nexport const pausebtn_svg = '<svg class=\"svg-icon\" version=\"1.1\" id=\"Layer_3\" xmlns=\"https://www.w3.org/2000/svg\" xmlns:xlink=\"https://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" width=\"12px\" height=\"13px\" viewBox=\"0 0 13.415 16.333\" enable-background=\"new 0 0 13.415 16.333\" xml:space=\"preserve\"> <path fill=\"#D2D6DB\" d=\"M4.868,14.59c0,0.549-0.591,0.997-1.322,0.997H2.2c-0.731,0-1.322-0.448-1.322-0.997V1.618 c0-0.55,0.592-0.997,1.322-0.997h1.346c0.731,0,1.322,0.447,1.322,0.997V14.59z\"/> <path fill=\"#D2D6DB\" d=\"M12.118,14.59c0,0.549-0.593,0.997-1.324,0.997H9.448c-0.729,0-1.322-0.448-1.322-0.997V1.619 c0-0.55,0.593-0.997,1.322-0.997h1.346c0.731,0,1.324,0.447,1.324,0.997V14.59z\"/> </svg>';\n\n\n\n\n\nexport const svg_share_icon = '<svg class=\"svg-icon\" xmlns=\"https://www.w3.org/2000/svg\" xmlns:xlink=\"https://www.w3.org/1999/xlink\" version=\"1.1\" id=\"Capa_1\" x=\"0px\" y=\"0px\" width=\"512px\" height=\"512px\" viewBox=\"0 0 511.626 511.627\" style=\"enable-background:new 0 0 511.626 511.627;\" xml:space=\"preserve\"> <g> <path d=\"M506.206,179.012L360.025,32.834c-3.617-3.617-7.898-5.426-12.847-5.426s-9.233,1.809-12.847,5.426 c-3.617,3.619-5.428,7.902-5.428,12.85v73.089h-63.953c-135.716,0-218.984,38.354-249.823,115.06C5.042,259.335,0,291.03,0,328.907 c0,31.594,12.087,74.514,36.259,128.762c0.57,1.335,1.566,3.614,2.996,6.849c1.429,3.233,2.712,6.088,3.854,8.565 c1.146,2.471,2.384,4.565,3.715,6.276c2.282,3.237,4.948,4.859,7.994,4.859c2.855,0,5.092-0.951,6.711-2.854 c1.615-1.902,2.424-4.284,2.424-7.132c0-1.718-0.238-4.236-0.715-7.569c-0.476-3.333-0.715-5.564-0.715-6.708 c-0.953-12.938-1.429-24.653-1.429-35.114c0-19.223,1.668-36.449,4.996-51.675c3.333-15.229,7.948-28.407,13.85-39.543 c5.901-11.14,13.512-20.745,22.841-28.835c9.325-8.09,19.364-14.702,30.118-19.842c10.756-5.141,23.413-9.186,37.974-12.135 c14.56-2.95,29.215-4.997,43.968-6.14s31.455-1.711,50.109-1.711h63.953v73.091c0,4.948,1.807,9.232,5.421,12.847 c3.62,3.613,7.901,5.424,12.847,5.424c4.948,0,9.232-1.811,12.854-5.424l146.178-146.183c3.617-3.617,5.424-7.898,5.424-12.847 C511.626,186.92,509.82,182.636,506.206,179.012z\" fill=\"#696969\"/> </g></svg> ';\n\n\n\nexport const svg_embed_button = ' <svg class=\"svg-icon\" version=\"1.1\" id=\"Layer_1\" xmlns=\"https://www.w3.org/2000/svg\" xmlns:xlink=\"https://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" width=\"10.975px\" height=\"14.479px\" viewBox=\"0 0 10.975 14.479\" enable-background=\"new 0 0 10.975 14.479\" xml:space=\"preserve\"> <g> <path d=\"M2.579,1.907c0.524-0.524,1.375-0.524,1.899,0l4.803,4.804c0.236-0.895,0.015-1.886-0.687-2.587L5.428,0.959 c-1.049-1.05-2.75-1.05-3.799,0L0.917,1.671c-1.049,1.05-1.049,2.751,0,3.801l3.167,3.166c0.7,0.702,1.691,0.922,2.587,0.686 L1.867,4.52c-0.524-0.524-0.524-1.376,0-1.899L2.579,1.907z M5.498,13.553c1.05,1.05,2.75,1.05,3.801,0l0.712-0.713 c1.05-1.05,1.05-2.75,0-3.8L6.843,5.876c-0.701-0.7-1.691-0.922-2.586-0.686l4.802,4.803c0.524,0.525,0.524,1.376,0,1.897 l-0.713,0.715c-0.523,0.522-1.375,0.522-1.898,0L1.646,7.802c-0.237,0.895-0.014,1.886,0.686,2.586L5.498,13.553z\"/> </g> </svg> ';\n\n\n\nexport const svg_prev_btn = '<svg class=\"svg-icon\" version=\"1.1\" id=\"Layer_2\" xmlns=\"https://www.w3.org/2000/svg\" xmlns:xlink=\"https://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" width=\"14px\" height=\"14px\" viewBox=\"0 0 12.5 12.817\" enable-background=\"new 0 0 12.5 12.817\" xml:space=\"preserve\"> <g> <g> <g> <path fill=\"#D2D6DB\" d=\"M2.581,7.375c-0.744-0.462-1.413-0.94-1.486-1.061C1.021,6.194,1.867,5.586,2.632,5.158l2.35-1.313 c0.765-0.427,1.505-0.782,1.646-0.789s0.257,1.03,0.257,1.905V7.87c0,0.876-0.051,1.692-0.112,1.817 C6.711,9.81,5.776,9.361,5.032,8.898L2.581,7.375z\"/> </g> </g> </g> <g> <g> <g> <path fill=\"#D2D6DB\" d=\"M6.307,7.57C5.413,7.014,4.61,6.441,4.521,6.295C4.432,6.15,5.447,5.42,6.366,4.906l2.82-1.577 c0.919-0.513,1.809-0.939,1.979-0.947s0.309,1.236,0.309,2.288v3.493c0,1.053-0.061,2.033-0.135,2.182S10.144,9.955,9.25,9.4 L6.307,7.57z\"/> </g> </g> </g> </svg>';\nexport const svg_next_btn = '<svg class=\"svg-icon\" version=\"1.1\" id=\"Layer_2\" xmlns=\"https://www.w3.org/2000/svg\" xmlns:xlink=\"https://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" width=\"14px\" height=\"14px\" viewBox=\"0 0 12.5 12.817\" enable-background=\"new 0 0 12.5 12.817\" xml:space=\"preserve\"> <g> <g> <g> <path fill=\"#D2D6DB\" d=\"M9.874,5.443c0.744,0.462,1.414,0.939,1.486,1.06c0.074,0.121-0.771,0.729-1.535,1.156L7.482,8.967 C6.719,9.394,5.978,9.75,5.837,9.756C5.696,9.761,5.581,8.726,5.581,7.851V4.952c0-0.875,0.05-1.693,0.112-1.816 c0.062-0.124,0.995,0.326,1.739,0.788L9.874,5.443z\"/> </g> </g> </g> <g> <g> <g> <path fill=\"#D2D6DB\" d=\"M6.155,5.248c0.893,0.556,1.696,1.129,1.786,1.274c0.088,0.145-0.928,0.875-1.847,1.389l-2.811,1.57 c-0.918,0.514-1.808,0.939-1.978,0.947c-0.169,0.008-0.308-1.234-0.308-2.287V4.66c0-1.052,0.061-2.034,0.135-2.182 s1.195,0.391,2.089,0.947L6.155,5.248z\"/> </g> </g> </g> </svg>';\n\n\n\n\n\nexport const svg_menu_state = '<svg class=\"svg-icon\" version=\"1.1\" id=\"Layer_2\" xmlns=\"https://www.w3.org/2000/svg\" xmlns:xlink=\"https://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" width=\"13.25px\" height=\"13.915px\" viewBox=\"0 0 13.25 13.915\" enable-background=\"new 0 0 13.25 13.915\" xml:space=\"preserve\"> <path d=\"M1.327,4.346c-0.058,0-0.104-0.052-0.104-0.115V2.222c0-0.063,0.046-0.115,0.104-0.115H11.58 c0.059,0,0.105,0.052,0.105,0.115v2.009c0,0.063-0.046,0.115-0.105,0.115H1.327z\"/> <path d=\"M1.351,8.177c-0.058,0-0.104-0.051-0.104-0.115V6.054c0-0.064,0.046-0.115,0.104-0.115h10.252 c0.058,0,0.105,0.051,0.105,0.115v2.009c0,0.063-0.047,0.115-0.105,0.115H1.351z\"/> <path d=\"M1.351,12.182c-0.058,0-0.104-0.05-0.104-0.115v-2.009c0-0.064,0.046-0.115,0.104-0.115h10.252 c0.058,0,0.105,0.051,0.105,0.115v2.009c0,0.064-0.047,0.115-0.105,0.115H1.351z\"/> </svg>';\nexport const svg_embed_btn = '<svg class=\"svg-icon\" version=\"1.2\" baseProfile=\"tiny\" xmlns=\"https://www.w3.org/2000/svg\" xmlns:xlink=\"https://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" width=\"15px\" height=\"15px\" viewBox=\"0 0 15 15\" xml:space=\"preserve\"> <g id=\"Layer_1\"> <polygon fill=\"#E6E7E8\" points=\"1.221,7.067 0.494,5.422 4.963,1.12 5.69,2.767 \"/> <polygon fill=\"#E6E7E8\" points=\"0.5,5.358 1.657,4.263 3.944,10.578 2.787,11.676 \"/> <polygon fill=\"#E6E7E8\" points=\"13.588,9.597 14.887,8.34 12.268,2.672 10.969,3.93 \"/> <polygon fill=\"#E6E7E8\" points=\"14.903,8.278 14.22,6.829 9.714,11.837 10.397,13.287 \"/> </g> <g id=\"Layer_2\"> <rect x=\"6.416\" y=\"1.713\" transform=\"matrix(0.9663 0.2575 -0.2575 0.9663 2.1699 -1.6329)\" fill=\"#E6E7E8\" width=\"1.805\" height=\"11.509\"/> </g> </svg>';\n\n\nexport const svg_footer_playlist = '<svg class=\"svg-icon\" version=\"1.1\" id=\"Layer_2\" xmlns=\"https://www.w3.org/2000/svg\" xmlns:xlink=\"https://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" width=\"13.25px\" height=\"13.915px\" viewBox=\"0 0 13.25 13.915\" enable-background=\"new 0 0 13.25 13.915\" xml:space=\"preserve\"> <path d=\"M1.327,4.346c-0.058,0-0.104-0.052-0.104-0.115V2.222c0-0.063,0.046-0.115,0.104-0.115H11.58 c0.059,0,0.105,0.052,0.105,0.115v2.009c0,0.063-0.046,0.115-0.105,0.115H1.327z\"/> <path d=\"M1.351,8.177c-0.058,0-0.104-0.051-0.104-0.115V6.054c0-0.064,0.046-0.115,0.104-0.115h10.252 c0.058,0,0.105,0.051,0.105,0.115v2.009c0,0.063-0.047,0.115-0.105,0.115H1.351z\"/> <path d=\"M1.351,12.182c-0.058,0-0.104-0.05-0.104-0.115v-2.009c0-0.064,0.046-0.115,0.104-0.115h10.252 c0.058,0,0.105,0.051,0.105,0.115v2.009c0,0.064-0.047,0.115-0.105,0.115H1.351z\"/> </svg>';\n\n\n","import {DZSAP_SCRIPT_SELECTOR_KEYBOARD} from \"../../configs/_constants\";\n\nexport const dzsap_generate_keyboard_controls = function () {\n  let keyboard_controls = {\n    'play_trigger_step_back': 'off'\n    , 'step_back_amount': '5'\n    , 'step_back': '37'\n    , 'step_forward': '39'\n    , 'sync_players_goto_next': ''\n    , 'sync_players_goto_prev': ''\n    , 'pause_play': '32'\n    , 'show_tooltips': 'off'\n  }\n\n\n  const $keyboardControlsInfo = jQuery(DZSAP_SCRIPT_SELECTOR_KEYBOARD);\n  if ($keyboardControlsInfo.length) {\n    window.dzsap_keyboard_controls = JSON.parse($keyboardControlsInfo.html());\n  }\n\n  if (window.dzsap_keyboard_controls) {\n    keyboard_controls = jQuery.extend(keyboard_controls, window.dzsap_keyboard_controls);\n  }\n\n  keyboard_controls.step_back_amount = Number(keyboard_controls.step_back_amount);\n\n\n  return keyboard_controls;\n};\n\n\nexport function handle_keypresses(e) {\n\n  if (window.dzsap_isTextFieldFocused) {\n    return;\n  }\n\n\n  function isKeyPressed(checkKeyCode) {\n    let isKeyPressed = false;\n    if (checkKeyCode.indexOf('ctrl+') > -1) {\n      if (e.ctrlKey) {\n        checkKeyCode = checkKeyCode.replace('ctrl+', '');\n        if (e.keyCode === Number(checkKeyCode)) {\n          isKeyPressed = true;\n        }\n      }\n    } else {\n      if (e.keyCode === Number(checkKeyCode)) {\n        isKeyPressed = true;\n      }\n    }\n    return isKeyPressed;\n  }\n\n  var $ = jQuery;\n\n  const keyboard_controls = $.extend({}, dzsap_generate_keyboard_controls());\n\n\n  if (dzsap_currplayer_focused && dzsap_currplayer_focused.api_pause_media) {\n\n    if (isKeyPressed(keyboard_controls.pause_play)) {\n      if (!$(dzsap_currplayer_focused).hasClass('comments-writer-active')) {\n        if ($(dzsap_currplayer_focused).hasClass('is-playing')) {\n          dzsap_currplayer_focused.api_pause_media();\n        } else {\n          dzsap_currplayer_focused.api_play_media();\n        }\n\n        if (window.dzsap_mouseover) {\n          e.preventDefault();\n          return false;\n        }\n      }\n    }\n\n    if (isKeyPressed(keyboard_controls.step_back)) {\n      dzsap_currplayer_focused.api_step_back(keyboard_controls.step_back_amount);\n    }\n\n    if (isKeyPressed(keyboard_controls.step_forward)) {\n      dzsap_currplayer_focused.api_step_forward(keyboard_controls.step_back_amount);\n    }\n\n    if (isKeyPressed(keyboard_controls.sync_players_goto_next)) {\n      dzsap_currplayer_focused.api_sync_players_goto_next();\n    }\n\n\n    if (isKeyPressed(keyboard_controls.sync_players_goto_prev)) {\n      dzsap_currplayer_focused.api_sync_players_goto_prev();\n    }\n\n\n  }\n}\n\n\n/**\n * called in singleton\n */\nexport const dzsap_keyboardSetup = () => {\n\n  let $ = jQuery;\n\n  window.dzsap_isTextFieldFocused = false;\n\n  $(document).off('keydown.dzsapkeyup');\n  $(document).on('keydown.dzsapkeyup', handle_keypresses);\n\n\n  $(document).on('focus blur', 'textarea,input', function (e) {\n\n    if (e.type == 'focusin' || e.type == 'focus') {\n\n      window.dzsap_isTextFieldFocused = true;\n    }\n    if (e.type == 'focusout' || e.type == 'blur') {\n\n      window.dzsap_isTextFieldFocused = false;\n    }\n  });\n\n\n  $(document).on('keydown blur', '.zoomsounds-search-field', function (e) {\n    const _t = $(e.currentTarget);\n\n    setTimeout(function () {\n\n      if (_t) {\n        let $audioGallery = $('.audiogallery').eq(0);\n        if (_t.attr('data-target')) {\n          $audioGallery = $(_t.attr('data-target'));\n        }\n        if ($audioGallery.get(0) && $audioGallery.get(0).api_filter) {\n          $audioGallery.get(0).api_filter('title', _t.val());\n        }\n      }\n    }, 100);\n\n  });\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop)","let esJquery = class {\n  constructor(selector) {\n\n    if (typeof selector == 'string') {\n\n      this.$el = document.querySelector(selector);\n      this.$els = document.querySelectorAll(selector);\n    } else {\n\n      this.$el = selector;\n\n      if (isNodeList(selector)) {\n        this.$el = selector[0];\n      }\n      this.$els = [];\n\n      if (isNodeList(selector)) {\n\n        selector.forEach((_el) => {\n\n          this.$els.push(_el);\n        })\n      } else {\n\n        this.$els.push(this.$el);\n      }\n\n\n    }\n  }\n\n  hide() {\n\n    this.$els.forEach(function (el) {\n      el.style.display = 'none';\n    });\n  }\n\n  clone() {\n    // -- @only works on first element\n\n\n    const cln = this.$el.cloneNode(true);\n    this.$el.parentNode.appendChild(cln)\n    return cln;\n  }\n\n  show() {\n\n    this.$els.forEach(function (el) {\n      el.style.display = '';\n    });\n  }\n  trigger(eventType) {\n\n    this.$els.forEach(function (el) {\n\n      const event = new Event(eventType);\n      el.dispatchEvent(event);\n    });\n  }\n\n  addClass(arg) {\n\n\n\n\n\n    this.$els.forEach(function (el3) {\n      el3.classList.add(arg);\n    });\n    return this;\n  }\n\n  removeClass(arg) {\n\n\n\n\n\n    this.$els.forEach(function (el3) {\n      el3.classList.remove(arg);\n    });\n    return this;\n  }\n\n  prepend(html) {\n    if (typeof html == 'string') {\n\n      const _tempKid = document.createElement(\"div\");\n\n\n\n      this.$els.forEach(function (el) {\n        try {\n\n          el.appendChild(_tempKid);\n          el.insertBefore(_tempKid, el.firstChild);\n          _tempKid.outerHTML = html;\n        } catch (err) {\n\n        }\n      })\n    }\n  }\n\n  get(index) {\n    if(index===0){\n      return this.$el;\n    }\n  }\n  each(callback) {\n    this.$els.forEach((el) => {\n        callback($es(el));\n      }\n    )\n\n  }\n\n  text() {\n\n    if (arguments.length === 0) {\n\n      return this.$el.textContent;\n    } else {\n\n      this.$el.textContent = arguments[0];\n\n      return this;\n    }\n  }\n  val() {\n\n    if (arguments.length === 0) {\n\n      return this.$el.value;\n    } else {\n\n      this.$el.value = arguments[0];\n\n      return this;\n    }\n  }\n\n  find(selector) {\n\n\n    return new esJquery(this.$el.querySelectorAll(selector));\n  }\n\n  append(html) {\n    if (typeof html == 'string') {\n\n      const _tempKid = document.createElement(\"div\");\n      _tempKid.innerHTML = html;\n\n\n      this.$els.forEach(function (el) {\n        try {\n\n          el.appendChild(_tempKid);\n        } catch (err) {\n\n        }\n      })\n    }\n  }\n\n  on(evt, sel, handler) {\n\n\n    this.$el.addEventListener(evt, function (event) {\n      var t = event.target;\n      while (t && t !== this) {\n        if (t.matches(sel)) {\n\n          handler.call(t, event);\n        }\n        t = t.parentNode;\n      }\n    });\n    return this;\n  }\n\n  hasClass(arg) {\n    return this.$el.classList.contains(arg);\n  }\n\n  html() {\n\n    const attrArgs = arguments;\n    if (attrArgs.length == 0) {\n      return this.$el.innerHTML;\n    }\n    if (attrArgs.length == 1) {\n\n      this.$el.innerHTML = attrArgs[0];\n\n      return this;\n    }\n  }\n\n  getLast() {\n\n    if (this.$els.length) {\n      return $es(this.$els[this.$els.length - 1]);\n    }\n    return null;\n\n  }\n\n  attr() {\n    const attrArgs = arguments;\n    if (attrArgs.length == 0) {\n    }\n    if (attrArgs.length == 1) {\n      return this.$el.getAttribute(attrArgs[0]);\n    }\n    if (attrArgs.length == 2) {\n      this.$els.forEach(function (el) {\n        el.setAttribute(attrArgs[0], attrArgs[1]);\n      });\n    }\n\n    return this;\n\n\n\n\n  }\n\n  remove() {\n    this.$el.remove();\n  }\n\n  parent() {\n\n    return $es(this.$el.parentNode);\n  }\n\n  getEl() {\n\n    return this.$el;\n  }\n\n  children() {\n    return $es(this.$el.childNodes);\n  }\n\n  serialize() {\n    var form = this.$el;\n    var field, query = '';\n    if (typeof form == 'object' && form.nodeName == \"FORM\") {\n      for (var i = 0; i <= form.elements.length - 1; i++) {\n        field = form.elements[i];\n        if (field.name && field.type != 'file' && field.type != 'reset') {\n          if (field.type == 'select-multiple') {\n            for (var j = 0; j <= form.elements[i].options.length - 1; j++) {\n              if (field.options[j].selected) {\n                query += '&' + field.name + \"=\" + encodeURIComponent(field.options[j].value).replace(/%20/g, '+');\n              }\n            }\n          } else {\n            if ((field.type != 'submit' && field.type != 'button')) {\n              if ((field.type != 'checkbox' && field.type != 'radio') || field.checked) {\n                query += '&' + field.name + \"=\" + encodeURIComponent(field.value).replace(/%20/g, '+');\n              }\n            }\n          }\n        }\n      }\n    }\n    return query.substr(1);\n  }\n};\n\nfunction isNodeList(nodes) {\n  var stringRepr = Object.prototype.toString.call(nodes);\n\n  return typeof nodes === 'object' &&\n    /^\\[object (HTMLCollection|NodeList|Object)\\]$/.test(stringRepr) &&\n    (typeof nodes.length === 'number') &&\n    (nodes.length === 0 || (typeof nodes[0] === \"object\" && nodes[0].nodeType > 0));\n}\n\n/**\n * jQuery, but in es6\n * @param query selector\n * @returns {esJquery}\n */\nconst $es = (arg) => {\n  // todo: actually convert to a class maybe..\n\n\n  return new esJquery(arg)\n\n};\n\n\nwindow.es_document_ready = function (callback) {\n  new Promise((resolutionFunc, rejectionFunc) => {\n\n    if (document.readyState === 'interactive' || document.readyState === 'complete') {\n\n      resolutionFunc('interactive')\n\n    }\n\n    document.addEventListener('DOMContentLoaded', () => {\n      resolutionFunc('DOMContentLoaded')\n    }, false);\n    setTimeout(() => {\n\n      resolutionFunc('timeout')\n    }, 5000);\n  }).then(resolution => {\n    callback(resolution);\n  }).catch(err => {\n    callback(err)\n  });\n}\n\n/** call ajax function\n * {\n    'type':'GET',\n    'url':'/',\n    'data':{},\n    'success':null\n  }\n */\nwindow.es_ajax = function (pargs) {\n  var margs = {\n    'type': 'GET',\n    'url': '/',\n    'data': {},\n    'success': null\n  };\n\n  if (pargs) {\n    margs = Object.assign(margs, pargs);\n  }\n\n  let xhr = new XMLHttpRequest();\n\n  xhr.open(margs.type, margs.url);\n  var form_data = new FormData();\n\n\n  for (var key in margs.data) {\n    form_data.append(key, margs.data[key]);\n  }\n\n\n  xhr.send(form_data);\n  xhr.addEventListener('load', handle_loaded);\n\n  function handle_loaded(e) {\n\n\n    if (xhr.status != 200) {\n\n\n    } else { // show the result\n\n      if (margs.success) {\n        margs.success(e, this);\n      }\n    }\n  }\n\n\n}\n\n\nwindow.get_query_arg = function (purl, key) {\n\n\n\n  if (purl.indexOf(key + '=') > -1) {\n\n    var regexS = \"[?&]\" + key + \"(.+?)(?=&|$)\";\n    var regex = new RegExp(regexS);\n    var regtest = regex.exec(purl);\n\n\n\n    if (regtest != null) {\n\n\n\n      if (regtest[1]) {\n        var aux = regtest[1].replace(/=/g, '');\n        return aux;\n      } else {\n        return '';\n      }\n\n\n    }\n\n  }\n}\n\n\nwindow.add_query_arg = function (purl, key, value) {\n  key = encodeURIComponent(key);\n  value = encodeURIComponent(value);\n\n\n  var s = purl;\n  var pair = key + \"=\" + value;\n\n  var r = new RegExp(\"(&|\\\\?)\" + key + \"=[^\\&]*\");\n\n\n\n\n  s = s.replace(r, \"$1\" + pair);\n\n  var addition = '';\n  if (s.indexOf(key + '=') > -1) {\n\n\n  } else {\n    if (s.indexOf('?') > -1) {\n      addition = '&' + pair;\n    } else {\n      addition = '?' + pair;\n    }\n    s += addition;\n  }\n\n  //if value NaN we remove this field from the url\n  if (value == 'NaN') {\n    var regex_attr = new RegExp('[\\?|\\&]' + key + '=' + value);\n    s = s.replace(regex_attr, '');\n  }\n\n\n\n\n  return s;\n}\n\nexport default $es;\n","/*\n * Author: Audio Player with Playlist\n * Website: https://digitalzoomstudio.net/\n * Portfolio: https://bit.ly/nM4R6u\n * Version: 5.73\n * */\n\n'use strict';\nimport * as dzsapHelpers from \"./jsinc/_dzsap_helpers\";\nimport $es from \"./js_common/_esjquery\";\nimport {ConstantsDzsAp} from \"./configs/_constants\";\n\n\n\nclass WaveGenerator {\n\n  constructor($waveGenerator_) {\n\n    this.initOptions = {};\n    this.dataSource = '';\n    this.$waveGenerator_ = ($waveGenerator_);\n    this.$waveGenerator = $es($waveGenerator_);\n    this.$wavedataField = null;\n    this.$status = null;\n    this.init();\n  }\n\n  init() {\n\n    var finalOptions = {};\n    var defaultOptions = Object.assign({\n      source: '',\n      selectorWaveData: '',\n    }, {});\n    finalOptions = dzsapHelpers.convertPluginOptionsToFinalOptions(this.$waveGenerator_, defaultOptions, null, 'data-options', $es);\n\n    var selfClass = this;\n\n    selfClass.initOptions = finalOptions;\n    selfClass.$status = selfClass.$waveGenerator.find('.dzsap-wave-generator--status');\n\n\n    if (selfClass.initOptions.source) {\n      selfClass.dataSource = selfClass.initOptions.source;\n    }\n\n    if (selfClass.initOptions.selectorWaveData) {\n      selfClass.$wavedataField = $es(selfClass.initOptions.selectorWaveData);\n    }\n\n    selfClass.$status.html('generating waveforms');\n\n    if (selfClass.dataSource) {\n      promise_waveGenerate(selfClass.$waveGenerator.find('.dzsap-wave-generator--wave').get(0), selfClass.dataSource).then((resolve) => {\n        selfClass.$status.html('');\n\n\n        try {\n          if (resolve.pcm_data) {\n            if (selfClass.$wavedataField) {\n              selfClass.$wavedataField.val(resolve.pcm_data);\n\n              if(dzsap_settings.dzsap_wave_generate_auto==='on' && get_query_arg(window.location.href, 'dzsap_wave_generate_auto')==='on'){\n\n                window.dzsap_admin_waveforms_submitPcmData(document.querySelector('.track-waveform-meta'));\n              }\n\n            }\n          }\n        } catch (err) {\n          console.log(err);\n\n        }\n      })\n    }\n  }\n}\n\n\nwindow.es_document_ready(() => {\n\n  $es('.dzsap-wave-generator.auto-init').each($el => {\n    var generator = new WaveGenerator($el.get(0));\n  })\n})\n\nfunction get_query_arg(purl, key) {\n  if (purl.indexOf(key + '=') > -1) {\n\n    var regexS = \"[?&]\" + key + \"=.+\";\n    var regex = new RegExp(regexS);\n    var regtest = regex.exec(purl);\n\n    if (regtest != null) {\n      var splitterS = regtest[0];\n      if (splitterS.indexOf('&') > -1) {\n        var aux = splitterS.split('&');\n        splitterS = aux[1];\n      }\n      var splitter = splitterS.split('=');\n\n      return splitter[1];\n\n    }\n  }\n}\nwindow.dzsap_generating_pcm = false;\n\nconst promise_waveGenerate = async function ($container_, sourceMp3, pargs) {\n\n\n  var margs = Object.assign({\n    called_from: 'default',\n    preferBackendPeaks: true,\n    wavesurfer_pcm_length: 200\n  }, pargs);\n  var self = this;\n\n\n  return new Promise((resolvePcm, rejectPcm) => {\n\n    async function wavesurfer_renderPcm() {\n\n      function asyncRenderPcm(resolve, reject) {\n\n\n        // -- make sure we are generating only once\n        if (window.dzsap_generating_pcm) {\n          setTimeout(function () {\n            asyncRenderPcm(resolve, reject);\n          }, 1000);\n          return false;\n        }\n        window.dzsap_generating_pcm = true;\n\n\n        var wavesurferConId = 'wavesurfer_' + Math.ceil(Math.random() * 10000);\n\n        if (!$container_) {\n          $container_ = document.body;\n        }\n\n        $es($container_).append(`<div id=\"${wavesurferConId}\"></div>`);\n\n\n        var ctx = document.createElement('canvas').getContext('2d');\n        var linGrad = ctx.createLinearGradient(0, 64, 0, 200);\n        linGrad.addColorStop(0.5, 'rgb(107,95,95)');\n        linGrad.addColorStop(0.5, 'rgb(119,115,115)');\n\n\n        var wavesurfer = WaveSurfer.create({\n          container: '#' + wavesurferConId,\n          normalize: true,\n          pixelRatio: 1,\n          waveColor: linGrad,\n          progressColor: 'hsla(200, 100%, 30%, 0.5)',\n          cursorColor: '#fff',\n          // This parameter makes the waveform look like SoundCloud's player\n          barWidth: 2\n        });\n\n\n        wavesurfer.on('loading', function (percents) {\n\n          $container_.parentNode.querySelector('.dzsap-wave-generator--status').innerHTML = (percents + '%')\n        });\n\n\n        try {\n          wavesurfer.load(sourceMp3);\n        } catch (err) {\n          console.log(\"[wavesurfer] WAVE SURFER NO LOAD\");\n        }\n\n\n        wavesurfer.on('ready', function () {\n          console.log('[dzsap] [wavesurfer] generating wave data for ', sourceMp3);\n\n          var accuracy = 100;\n          var pcmDataArr = [];\n          var pcmDataString = '';\n          if (wavesurfer && wavesurfer.exportPCM) {\n\n            if (margs.preferBackendPeaks !== true) {\n\n              pcmDataArr = wavesurfer.exportPCM(margs.wavesurfer_pcm_length, accuracy, true);\n            }\n\n            let isPcmDataArrValid = false;\n            try {\n              pcmDataArr = JSON.parse(pcmDataString);\n\n              for (let i in pcmDataArr) {\n                if (pcmDataArr[i] !== null && pcmDataArr[i] !== 0 && pcmDataArr[i] !== \"0\") {\n                  isPcmDataArrValid = true;\n                  break;\n                }\n              }\n            } catch (err) {\n              isPcmDataArrValid = false;\n            }\n\n            if (!isPcmDataArrValid) {\n              pcmDataArr = wavesurfer.backend.getPeaks(margs.wavesurfer_pcm_length, 0, margs.wavesurfer_pcm_length);\n            }\n            for (let i in pcmDataArr) {\n              if (pcmDataArr[i] !== null && pcmDataArr[i] !== 0 && pcmDataArr[i] !== \"0\") {\n                pcmDataArr[i] = Math.abs(Number(Number(pcmDataArr[i]).toFixed(2)));\n              }\n            }\n\n\n          } else {\n            pcmDataArr = dzsapHelpers.generateFakeArrayForPcm();\n          }\n          pcmDataString = JSON.stringify(pcmDataArr);\n\n\n          resolve({\n            resolve_type: 'success',\n            pcm_data: pcmDataString\n          })\n        });\n\n        wavesurfer.on('error', function (err, err2) {\n          reject({\n            error_type: 'wavesurfer_error',\n            error_message: err,\n          })\n        });\n\n\n        setTimeout(() => {\n\n          reject({\n            error_type: 'wavesurfer_timeout',\n            error_message: 'timeout',\n          })\n\n        }, ConstantsDzsAp.WAVESURFER_MAX_TIMEOUT);\n      }\n\n      // -- end promise\n\n\n      return new Promise((resolve, reject) => {\n        asyncRenderPcm(resolve, reject);\n      });\n    }\n\n    wavesurfer_renderPcm().then(responsePcm => {\n      console.log('%c [dzsap] [wave] success while generating pcm - ', ConstantsDzsAp.DEBUG_STYLE_PLAY_FUNCTIONS, responsePcm)\n\n      resolvePcm(responsePcm);\n\n    }).catch(err => {\n\n      var default_pcm = [];\n\n      for (var i3 = 0; i3 < 200; i3++) {\n        default_pcm[i3] = Math.abs(Number(Math.random()).toFixed(2));\n      }\n      default_pcm = JSON.stringify(default_pcm);\n\n      console.log('%c [dzsap] [wave] error while generating pcm - ', ConstantsDzsAp.DEBUG_STYLE_PLAY_FUNCTIONS, err, err.error_message)\n\n\n      resolvePcm(default_pcm);\n    });\n  })\n\n\n}\n"],"sourceRoot":""}